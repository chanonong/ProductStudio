/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov__5Q0VE3KkWcZaGdkUkyj3g = (Function('return this'))();
if (!__cov__5Q0VE3KkWcZaGdkUkyj3g.__coverage__) { __cov__5Q0VE3KkWcZaGdkUkyj3g.__coverage__ = {}; }
__cov__5Q0VE3KkWcZaGdkUkyj3g = __cov__5Q0VE3KkWcZaGdkUkyj3g.__coverage__;
if (!(__cov__5Q0VE3KkWcZaGdkUkyj3g['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-commentindicator/ohp-commentindicator.js'])) {
   __cov__5Q0VE3KkWcZaGdkUkyj3g['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-commentindicator/ohp-commentindicator.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-commentindicator/ohp-commentindicator.js","s":{"1":0,"2":0,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"b":{"1":[0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":1},"end":{"line":3,"column":12}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":32},"end":{"line":8,"column":51}}},"3":{"name":"CommentIndicator","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":38}}},"4":{"name":"(anonymous_4)","line":70,"loc":{"start":{"line":70,"column":8},"end":{"line":70,"column":26}}},"5":{"name":"(anonymous_5)","line":80,"loc":{"start":{"line":80,"column":14},"end":{"line":80,"column":35}}},"6":{"name":"(anonymous_6)","line":97,"loc":{"start":{"line":97,"column":13},"end":{"line":97,"column":24}}},"7":{"name":"(anonymous_7)","line":100,"loc":{"start":{"line":100,"column":11},"end":{"line":100,"column":22}}},"8":{"name":"(anonymous_8)","line":106,"loc":{"start":{"line":106,"column":9},"end":{"line":106,"column":20}}},"9":{"name":"(anonymous_9)","line":118,"loc":{"start":{"line":118,"column":9},"end":{"line":118,"column":20}}},"10":{"name":"(anonymous_10)","line":128,"loc":{"start":{"line":128,"column":10},"end":{"line":128,"column":21}}},"11":{"name":"(anonymous_11)","line":134,"loc":{"start":{"line":134,"column":16},"end":{"line":134,"column":32}}},"12":{"name":"(anonymous_12)","line":147,"loc":{"start":{"line":147,"column":16},"end":{"line":147,"column":32}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":156,"column":5}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":12}},"3":{"start":{"line":8,"column":0},"end":{"line":155,"column":80}},"4":{"start":{"line":22,"column":0},"end":{"line":23,"column":19}},"5":{"start":{"line":36,"column":0},"end":{"line":49,"column":1}},"6":{"start":{"line":38,"column":1},"end":{"line":46,"column":2}},"7":{"start":{"line":45,"column":2},"end":{"line":45,"column":9}},"8":{"start":{"line":48,"column":1},"end":{"line":48,"column":64}},"9":{"start":{"line":51,"column":0},"end":{"line":51,"column":43}},"10":{"start":{"line":53,"column":0},"end":{"line":53,"column":39}},"11":{"start":{"line":55,"column":0},"end":{"line":55,"column":39}},"12":{"start":{"line":57,"column":0},"end":{"line":65,"column":2}},"13":{"start":{"line":67,"column":0},"end":{"line":67,"column":44}},"14":{"start":{"line":69,"column":0},"end":{"line":73,"column":2}},"15":{"start":{"line":71,"column":2},"end":{"line":71,"column":45}},"16":{"start":{"line":75,"column":0},"end":{"line":150,"column":3}},"17":{"start":{"line":81,"column":2},"end":{"line":94,"column":3}},"18":{"start":{"line":82,"column":3},"end":{"line":85,"column":6}},"19":{"start":{"line":87,"column":3},"end":{"line":90,"column":6}},"20":{"start":{"line":92,"column":3},"end":{"line":92,"column":20}},"21":{"start":{"line":101,"column":2},"end":{"line":101,"column":83}},"22":{"start":{"line":103,"column":2},"end":{"line":103,"column":64}},"23":{"start":{"line":107,"column":2},"end":{"line":110,"column":5}},"24":{"start":{"line":112,"column":2},"end":{"line":112,"column":41}},"25":{"start":{"line":119,"column":2},"end":{"line":119,"column":120}},"26":{"start":{"line":129,"column":2},"end":{"line":129,"column":32}},"27":{"start":{"line":131,"column":2},"end":{"line":131,"column":42}},"28":{"start":{"line":135,"column":2},"end":{"line":137,"column":53}},"29":{"start":{"line":139,"column":2},"end":{"line":144,"column":3}},"30":{"start":{"line":140,"column":3},"end":{"line":143,"column":6}},"31":{"start":{"line":148,"column":2},"end":{"line":148,"column":24}},"32":{"start":{"line":152,"column":0},"end":{"line":152,"column":55}}},"branchMap":{"1":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},{"start":{"line":38,"column":1},"end":{"line":38,"column":1}}]},"2":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":3},"end":{"line":39,"column":13}},{"start":{"line":40,"column":3},"end":{"line":40,"column":20}},{"start":{"line":41,"column":3},"end":{"line":41,"column":30}},{"start":{"line":42,"column":3},"end":{"line":42,"column":23}},{"start":{"line":43,"column":3},"end":{"line":43,"column":58}}]},"3":{"line":71,"type":"cond-expr","locations":[{"start":{"line":71,"column":19},"end":{"line":71,"column":39}},{"start":{"line":71,"column":42},"end":{"line":71,"column":44}}]},"4":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":2},"end":{"line":81,"column":2}},{"start":{"line":81,"column":2},"end":{"line":81,"column":2}}]},"5":{"line":119,"type":"cond-expr","locations":[{"start":{"line":119,"column":43},"end":{"line":119,"column":53}},{"start":{"line":119,"column":56},"end":{"line":119,"column":69}}]},"6":{"line":131,"type":"cond-expr","locations":[{"start":{"line":131,"column":17},"end":{"line":131,"column":34}},{"start":{"line":131,"column":37},"end":{"line":131,"column":41}}]},"7":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":2},"end":{"line":139,"column":2}},{"start":{"line":139,"column":2},"end":{"line":139,"column":2}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","","(function() {","","// Share a single popover among all comments on a page. Needs to be declared outside the YUI.add handler function","// so that it's only executed once regardless of number of times YUI.use is called in the page.","var popover;","YUI.add('ohp-commentindicator', function (Y, NAME) {","","/*global ORCHESTRAL*/","","// popover is provided by the wrapper js files, but appears global to this file, so JSHint would have errors on this file for popover.","// However, Shifter will see popover in the complete file, so thinks it shouldn't be global.","// Fortunately, we can hack it, because JSHint will parse a jshint comment with spaces at the start and end, but Shifter will ignore this:","/* global popover:true */","","/**","Provides a basic Comment popover inside a comment column in a datatable. Shows popover when user puts mouse pointer over a comment icon.","","@module ohp-commentindicator","**/","var Lang = Y.Lang,","\tWidget = Y.Widget;","","/**","Comment indicator.","","When user hovers over the indicator the comment is shown in a popover.","","@class CommentIndicator","@namespace OHP","@constructor CommentIndicator","@extends Widget","@param {object} config","**/","function CommentIndicator(/*config*/) {","\t// Detect deprecated call to CommentIndicator as a function.","\tif (","\t\t\tORCHESTRAL &&","\t\t\tORCHESTRAL.widget &&","\t\t\tORCHESTRAL.widget.DataTable &&","\t\t\targuments.length > 0 &&","\t\t\tY.instanceOf(arguments[0], ORCHESTRAL.widget.DataTable)","\t) {","\t\treturn;","\t}","","\tCommentIndicator.superclass.constructor.apply(this, arguments);","}","","CommentIndicator.NAME = 'commentIndicator';","","CommentIndicator.VALUE_CLASS = 'value';","","CommentIndicator.EMPTY_CLASS = 'empty';","","CommentIndicator.ATTRS = {","\t/**","\t@config value","\t@type String","\t**/","\tvalue: {","\t\tvalue: ''","\t}","};","","CommentIndicator.CSS_PREFIX = 'ohp-comment';","","CommentIndicator.HTML_PARSER = {","\tvalue: function(srcNode) {","\t\treturn srcNode ? srcNode.getContent() : '';","\t}","};","","Y.extend(CommentIndicator, Widget, {","\tBOUNDING_TEMPLATE: '<span/>',","","\tCONTENT_TEMPLATE: '<span/>',","","\tinitializer: function(/*config*/) {","\t\tif (!popover) {","\t\t\tpopover = new Y.OHP.Popover({","\t\t\t\tvisible: false,","\t\t\t\tzIndex: 2","\t\t\t});","","\t\t\tpopover.plug(Y.OHP.Constraint, {","\t\t\t\tmaxWidth: '300px',","\t\t\t\tmaxHeight: '200px'","\t\t\t});","","\t\t\tpopover.render();","","\t\t}","\t},","","\tdestructor: function() {","\t},","","\trenderUI: function() {","\t\tthis.get('contentBox').addClass(this.getClassName(CommentIndicator.VALUE_CLASS));","\t\t// Also add .value as a class so that we follow http://microformats.org/wiki/value-class-pattern","\t\tthis.get('contentBox').addClass(CommentIndicator.VALUE_CLASS);","\t},","","\tbindUI: function() {","\t\tthis.get('boundingBox').on({","\t\t\tmouseenter: Y.bind(this._onMouseEnter, this),","\t\t\tmouseleave: Y.bind(this._onMouseLeave, this)","\t\t});","","\t\tthis.after('valueChange', this.syncUI);","","\t\t// TODO: Think about iPad interaction","\t\t// TODO: Think about event delegation","\t},","","\tsyncUI: function() {","\t\tthis.get('boundingBox')[this.isEmpty() ? 'addClass' : 'removeClass'](this.getClassName(CommentIndicator.EMPTY_CLASS));","\t},","","\t/**","\tDetermines if a comment is empty.","","\t@method isEmpty","\t@return {boolean} true if the comment is empty","\t**/","\tisEmpty: function() {","\t\tvar value = this.get('value');","","\t\treturn value ? !Lang.trim(value) : true;","\t},","","\t_onMouseEnter: function(/*e*/) {","\t\tvar value = this.get('value'),","\t\t\t// Get the id of the node and create a selector because of http://jira/browse/COW-1101","\t\t\ttrigger = '#' + this.get('boundingBox').get('id');","","\t\tif (value) {","\t\t\tpopover.show({","\t\t\t\tcontent: value,","\t\t\t\ttriggerNode: trigger","\t\t\t});","\t\t}","\t},","","\t_onMouseLeave: function(/*e*/) {","\t\tpopover.delayedHide();","\t}","});","","Y.namespace('OHP').CommentIndicator = CommentIndicator;","","","}, '7.9.0', {\"requires\": [\"event\", \"ohp-popover\", \"widget\", \"ohp-constraint\"]});","}());","","}());"]};
}
__cov__5Q0VE3KkWcZaGdkUkyj3g = __cov__5Q0VE3KkWcZaGdkUkyj3g['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-commentindicator/ohp-commentindicator.js'];
__cov__5Q0VE3KkWcZaGdkUkyj3g.s['1']++;(function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['1']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['2']++;var popover;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['3']++;YUI.add('ohp-commentindicator',function(Y,NAME){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['2']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['4']++;var Lang=Y.Lang,Widget=Y.Widget;function CommentIndicator(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['3']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['6']++;if((__cov__5Q0VE3KkWcZaGdkUkyj3g.b['2'][0]++,ORCHESTRAL)&&(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['2'][1]++,ORCHESTRAL.widget)&&(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['2'][2]++,ORCHESTRAL.widget.DataTable)&&(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['2'][3]++,arguments.length>0)&&(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['2'][4]++,Y.instanceOf(arguments[0],ORCHESTRAL.widget.DataTable))){__cov__5Q0VE3KkWcZaGdkUkyj3g.b['1'][0]++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['7']++;return;}else{__cov__5Q0VE3KkWcZaGdkUkyj3g.b['1'][1]++;}__cov__5Q0VE3KkWcZaGdkUkyj3g.s['8']++;CommentIndicator.superclass.constructor.apply(this,arguments);}__cov__5Q0VE3KkWcZaGdkUkyj3g.s['9']++;CommentIndicator.NAME='commentIndicator';__cov__5Q0VE3KkWcZaGdkUkyj3g.s['10']++;CommentIndicator.VALUE_CLASS='value';__cov__5Q0VE3KkWcZaGdkUkyj3g.s['11']++;CommentIndicator.EMPTY_CLASS='empty';__cov__5Q0VE3KkWcZaGdkUkyj3g.s['12']++;CommentIndicator.ATTRS={value:{value:''}};__cov__5Q0VE3KkWcZaGdkUkyj3g.s['13']++;CommentIndicator.CSS_PREFIX='ohp-comment';__cov__5Q0VE3KkWcZaGdkUkyj3g.s['14']++;CommentIndicator.HTML_PARSER={value:function(srcNode){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['4']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['15']++;return srcNode?(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['3'][0]++,srcNode.getContent()):(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['3'][1]++,'');}};__cov__5Q0VE3KkWcZaGdkUkyj3g.s['16']++;Y.extend(CommentIndicator,Widget,{BOUNDING_TEMPLATE:'<span/>',CONTENT_TEMPLATE:'<span/>',initializer:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['5']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['17']++;if(!popover){__cov__5Q0VE3KkWcZaGdkUkyj3g.b['4'][0]++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['18']++;popover=new Y.OHP.Popover({visible:false,zIndex:2});__cov__5Q0VE3KkWcZaGdkUkyj3g.s['19']++;popover.plug(Y.OHP.Constraint,{maxWidth:'300px',maxHeight:'200px'});__cov__5Q0VE3KkWcZaGdkUkyj3g.s['20']++;popover.render();}else{__cov__5Q0VE3KkWcZaGdkUkyj3g.b['4'][1]++;}},destructor:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['6']++;},renderUI:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['7']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['21']++;this.get('contentBox').addClass(this.getClassName(CommentIndicator.VALUE_CLASS));__cov__5Q0VE3KkWcZaGdkUkyj3g.s['22']++;this.get('contentBox').addClass(CommentIndicator.VALUE_CLASS);},bindUI:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['8']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['23']++;this.get('boundingBox').on({mouseenter:Y.bind(this._onMouseEnter,this),mouseleave:Y.bind(this._onMouseLeave,this)});__cov__5Q0VE3KkWcZaGdkUkyj3g.s['24']++;this.after('valueChange',this.syncUI);},syncUI:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['9']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['25']++;this.get('boundingBox')[this.isEmpty()?(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['5'][0]++,'addClass'):(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['5'][1]++,'removeClass')](this.getClassName(CommentIndicator.EMPTY_CLASS));},isEmpty:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['10']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['26']++;var value=this.get('value');__cov__5Q0VE3KkWcZaGdkUkyj3g.s['27']++;return value?(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['6'][0]++,!Lang.trim(value)):(__cov__5Q0VE3KkWcZaGdkUkyj3g.b['6'][1]++,true);},_onMouseEnter:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['11']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['28']++;var value=this.get('value'),trigger='#'+this.get('boundingBox').get('id');__cov__5Q0VE3KkWcZaGdkUkyj3g.s['29']++;if(value){__cov__5Q0VE3KkWcZaGdkUkyj3g.b['7'][0]++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['30']++;popover.show({content:value,triggerNode:trigger});}else{__cov__5Q0VE3KkWcZaGdkUkyj3g.b['7'][1]++;}},_onMouseLeave:function(){__cov__5Q0VE3KkWcZaGdkUkyj3g.f['12']++;__cov__5Q0VE3KkWcZaGdkUkyj3g.s['31']++;popover.delayedHide();}});__cov__5Q0VE3KkWcZaGdkUkyj3g.s['32']++;Y.namespace('OHP').CommentIndicator=CommentIndicator;},'7.9.0',{'requires':['event','ohp-popover','widget','ohp-constraint']});}());
