/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov_5B1dbkOYcGovQfbEwZQM0w = (Function('return this'))();
if (!__cov_5B1dbkOYcGovQfbEwZQM0w.__coverage__) { __cov_5B1dbkOYcGovQfbEwZQM0w.__coverage__ = {}; }
__cov_5B1dbkOYcGovQfbEwZQM0w = __cov_5B1dbkOYcGovQfbEwZQM0w.__coverage__;
if (!(__cov_5B1dbkOYcGovQfbEwZQM0w['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-toolbox-view/ohp-annotation-toolbox-view.js'])) {
   __cov_5B1dbkOYcGovQfbEwZQM0w['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-toolbox-view/ohp-annotation-toolbox-view.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-toolbox-view/ohp-annotation-toolbox-view.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":39},"end":{"line":2,"column":58}}},"2":{"name":"(anonymous_2)","line":38,"loc":{"start":{"line":38,"column":14},"end":{"line":38,"column":34}}},"3":{"name":"(anonymous_3)","line":51,"loc":{"start":{"line":51,"column":9},"end":{"line":51,"column":20}}},"4":{"name":"(anonymous_4)","line":66,"loc":{"start":{"line":66,"column":27},"end":{"line":66,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":104,"column":3}},"2":{"start":{"line":11,"column":0},"end":{"line":13,"column":13}},"3":{"start":{"line":25,"column":0},"end":{"line":87,"column":3}},"4":{"start":{"line":39,"column":2},"end":{"line":46,"column":5}},"5":{"start":{"line":48,"column":2},"end":{"line":48,"column":48}},"6":{"start":{"line":52,"column":2},"end":{"line":54,"column":37}},"7":{"start":{"line":56,"column":2},"end":{"line":56,"column":47}},"8":{"start":{"line":58,"column":2},"end":{"line":58,"column":49}},"9":{"start":{"line":59,"column":2},"end":{"line":59,"column":51}},"10":{"start":{"line":61,"column":2},"end":{"line":61,"column":45}},"11":{"start":{"line":63,"column":2},"end":{"line":63,"column":14}},"12":{"start":{"line":70,"column":2},"end":{"line":72,"column":47}},"13":{"start":{"line":74,"column":2},"end":{"line":78,"column":3}},"14":{"start":{"line":75,"column":3},"end":{"line":75,"column":49}},"15":{"start":{"line":77,"column":3},"end":{"line":77,"column":60}},"16":{"start":{"line":89,"column":0},"end":{"line":89,"column":56}}},"branchMap":{"1":{"line":44,"type":"cond-expr","locations":[{"start":{"line":44,"column":38},"end":{"line":44,"column":47}},{"start":{"line":44,"column":50},"end":{"line":44,"column":52}}]},"2":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","YUI.add('ohp-annotation-toolbox-view', function (Y, NAME) {","","\"use strict\";","/**","ToolboxView is one piece of the overall AnnotationView. It handles Tool selection and the rendered Toolbox.","","@module ohp-annotation-toolbox-view","*/","","var Handlebars = Y.Handlebars,","\tgetClassName = Y.OHP.AnnotationClassNameManager.getClassName,","\tToolboxView;","","// TODO: make sure naming throughout modules is consistent when referring to toolList, toolModel and tool to prevent confusion here","","/**","ToolboxView is one piece of the overall AnnotationView. It handles Tool selection and the rendered Toolbox.","","@class ToolboxView","@namespace OHP.Annotation","@constructor","@extends View","**/","ToolboxView = Y.Base.create('ohp-annotation-toolbox-view', Y.View, [], {","\tevents: {","\t\t// TODO: possible to use class name manager in this situation?","\t\t'.ohp-annotation-tool-button': {","\t\t\tclick: '_handleClickToSelectTool'","\t\t}","\t},","","\t_buttonTemplate: Handlebars.compile(","\t\t'&nbsp;<label>' +","\t\t'<input type=\"radio\" name=\"ohp-annotation-tool-buttons\" class=\"{{className}}\" value={{value}} {{active}} />&nbsp;{{label}}' +","\t\t'</label>'),","","\t_renderTool: function(toolModel) {","\t\tvar toolName = toolModel.get('tool').get('name'),","\t\t\ttoolButton = this._buttonTemplate({","\t\t\t// TODO label should be a translation from the name, not the name itself","\t\t\tlabel: toolName,","\t\t\tvalue: toolName,","\t\t\tactive: (toolModel.get('active') ? 'checked' : ''),","\t\t\tclassName: getClassName('tool', 'button')","\t\t});","","\t\tthis.get('container').appendChild(toolButton);","\t},","","\trender: function() {","\t\tvar annotationModel = this.get('annotationModel'),","\t\t\ttoolModelList = annotationModel.get('toolModelList'),","\t\t\tcontainer = this.get('container');","","\t\tcontainer.addClass('ohp-annotation-toolbox');","","\t\tcontainer.setStyle('width', this.get('width'));","\t\tcontainer.setStyle('height', ToolboxView.HEIGHT);","","\t\ttoolModelList.each(this._renderTool, this);","","\t\treturn this;","\t},","","\t_handleClickToSelectTool: function(e) {","\t\t// Because we've rendered our Tool buttons with the 'name' as the","\t\t// 'value' attribute for each tool button node, we can use the value to","\t\t// retreive the Tool instance from the Array","\t\tvar annotationModel = this.get('annotationModel'),","\t\t\ttoolModelList = annotationModel.get('toolModelList'),","\t\t\tselectedType = e.currentTarget.get('value');","","\t\tif (selectedType !== toolModelList.getActiveToolName()) {","\t\t\ttoolModelList.setActiveToolName(selectedType);","\t\t\t// TODO: should the toolbox view be clearing selection?","\t\t\tannotationModel.get('drawingModelList').clearSelection();","\t\t}","\t}","}, {","\tATTRS: {","\t\twidth: {","\t\t\twriteOnce: 'initOnly'","\t\t}","\t},","\tHEIGHT: 30","});","","Y.namespace('OHP.Annotation').ToolboxView = ToolboxView;","","","}, '7.9.0', {","    \"requires\": [","        \"ohp-annotation-tool\",","        \"ohp-annotation-class-name-manager\",","        \"node-style\",","        \"handlebars\",","        \"yui-base\",","        \"base\",","        \"view\",","        \"event-base\",","        \"node-base\"","    ]","});","","}());"]};
}
__cov_5B1dbkOYcGovQfbEwZQM0w = __cov_5B1dbkOYcGovQfbEwZQM0w['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-toolbox-view/ohp-annotation-toolbox-view.js'];
__cov_5B1dbkOYcGovQfbEwZQM0w.s['1']++;YUI.add('ohp-annotation-toolbox-view',function(Y,NAME){'use strict';__cov_5B1dbkOYcGovQfbEwZQM0w.f['1']++;__cov_5B1dbkOYcGovQfbEwZQM0w.s['2']++;var Handlebars=Y.Handlebars,getClassName=Y.OHP.AnnotationClassNameManager.getClassName,ToolboxView;__cov_5B1dbkOYcGovQfbEwZQM0w.s['3']++;ToolboxView=Y.Base.create('ohp-annotation-toolbox-view',Y.View,[],{events:{'.ohp-annotation-tool-button':{click:'_handleClickToSelectTool'}},_buttonTemplate:Handlebars.compile('&nbsp;<label>'+'<input type="radio" name="ohp-annotation-tool-buttons" class="{{className}}" value={{value}} {{active}} />&nbsp;{{label}}'+'</label>'),_renderTool:function(toolModel){__cov_5B1dbkOYcGovQfbEwZQM0w.f['2']++;__cov_5B1dbkOYcGovQfbEwZQM0w.s['4']++;var toolName=toolModel.get('tool').get('name'),toolButton=this._buttonTemplate({label:toolName,value:toolName,active:toolModel.get('active')?(__cov_5B1dbkOYcGovQfbEwZQM0w.b['1'][0]++,'checked'):(__cov_5B1dbkOYcGovQfbEwZQM0w.b['1'][1]++,''),className:getClassName('tool','button')});__cov_5B1dbkOYcGovQfbEwZQM0w.s['5']++;this.get('container').appendChild(toolButton);},render:function(){__cov_5B1dbkOYcGovQfbEwZQM0w.f['3']++;__cov_5B1dbkOYcGovQfbEwZQM0w.s['6']++;var annotationModel=this.get('annotationModel'),toolModelList=annotationModel.get('toolModelList'),container=this.get('container');__cov_5B1dbkOYcGovQfbEwZQM0w.s['7']++;container.addClass('ohp-annotation-toolbox');__cov_5B1dbkOYcGovQfbEwZQM0w.s['8']++;container.setStyle('width',this.get('width'));__cov_5B1dbkOYcGovQfbEwZQM0w.s['9']++;container.setStyle('height',ToolboxView.HEIGHT);__cov_5B1dbkOYcGovQfbEwZQM0w.s['10']++;toolModelList.each(this._renderTool,this);__cov_5B1dbkOYcGovQfbEwZQM0w.s['11']++;return this;},_handleClickToSelectTool:function(e){__cov_5B1dbkOYcGovQfbEwZQM0w.f['4']++;__cov_5B1dbkOYcGovQfbEwZQM0w.s['12']++;var annotationModel=this.get('annotationModel'),toolModelList=annotationModel.get('toolModelList'),selectedType=e.currentTarget.get('value');__cov_5B1dbkOYcGovQfbEwZQM0w.s['13']++;if(selectedType!==toolModelList.getActiveToolName()){__cov_5B1dbkOYcGovQfbEwZQM0w.b['2'][0]++;__cov_5B1dbkOYcGovQfbEwZQM0w.s['14']++;toolModelList.setActiveToolName(selectedType);__cov_5B1dbkOYcGovQfbEwZQM0w.s['15']++;annotationModel.get('drawingModelList').clearSelection();}else{__cov_5B1dbkOYcGovQfbEwZQM0w.b['2'][1]++;}}},{ATTRS:{width:{writeOnce:'initOnly'}},HEIGHT:30});__cov_5B1dbkOYcGovQfbEwZQM0w.s['16']++;Y.namespace('OHP.Annotation').ToolboxView=ToolboxView;},'7.9.0',{'requires':['ohp-annotation-tool','ohp-annotation-class-name-manager','node-style','handlebars','yui-base','base','view','event-base','node-base']});
