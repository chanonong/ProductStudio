/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */
YUI.add("yui2-legacy-corehttp",function(Y,NAME){
/*!(C) ORCHESTRAL*/
function AsyncConnector(){}function HttpRequest(e,t){this.method=e.toUpperCase(),this.url=new Url(t),this.contentParams=new ParameterList,this.headers=[],this.addQueryParameter=function(e,t){this.url.addQueryParameter(e,t)},this.getQueryParameters=function(){return this.url.getQueryParameters()},this.addContentParameter=function(e,t){this.contentParams.addParameter(e,t)},this.getContentParameters=function(){return this.contentParams},this.addHeader=function(e,t){this.headers[this.headers.length]={name:e,value:t}},this.getContent=function(){return this.contentParams.getParameterString()}}function HttpGetRequest(e){return new HttpRequest(Http.METHOD_GET,e)}function HttpPutRequest(e){return new HttpRequest(Http.METHOD_PUT,e)}function HttpPostRequest(e){return new HttpRequest(Http.METHOD_POST,e)}function HttpDeleteRequest(e){return new HttpRequest(Http.METHOD_DELETE,e)}function HttpResponse(e){this.http=e,this.getStatusCode=function(){var e=this.getHeader("X-Response-Code");return isNaN(parseInt(e))?this.http.status===1223&&navigator.userAgent.indexOf("MSIE")?204:this.http.status:e},this.hasOkStatus=function(){return Math.floor(this.getStatusCode()/100)==2},this.getStatusMessage=function(){return this.getHeader("X-Response-Message")},this.hasContent=function(){return this.getContent().length!=0},this.getContent=function(){return this.http.responseText},this.getHeader=function(e){var t=this.http.getResponseHeader(e);return t==null?"":t}}function Url(e){this.baseUrl=e,this.queryParams=new ParameterList,this.addQueryParameter=function(e,t){this.queryParams.addParameter(e,t)},this.getQueryParameters=function(){return this.queryParams},this.toString=function(){var e=this.queryParams.getParameterString();return this.baseUrl+(e.length>0?"?"+e:"")}}function ParameterList(){this.params=[],this.addParameter=function(e,t){this.params[this.params.length]={name:e,value:t}},this.addParameters=function(e){this.params=this.params.concat(e.params)},this.removeParameter=function(e){var t=[];for(var n=0;n<this.params.length;n++)this.params[n].name!=e&&(t[t.length]=this.params[n]);this.params=t},this.hasParameter=function(e){for(var t=0;t<this.params.length;t++)if(this.params[t].name==e)return!0;return!1},this.setParameter=function(e,t){this.removeParameter(e),this.addParameter(e,t)},this.getParameterString=function(){var e=new CoreHttpStringBuffer;for(var t=0;t<this.params.length;t++)e.append(UrlEncoder.encode(this.params[t].name),"=",UrlEncoder.encode(this.params[t].value)),t<this.params.length-1&&e.append("&");return e.toString()}}function UrlEncoder(){}function CoreHttpStringBuffer(){this.s=[],this.append=function(){var e=this.append.arguments;for(var t=0;t<e.length;t++)this.s[this.s.length]=e[t]},this.toString=function(){return this.s.join("")}}function Http(){}var YAHOO=Y.YUI2,ORCHESTRAL=YAHOO.ORCHESTRAL;window.AsyncConnector=function(){},AsyncConnector.ids={},AsyncConnector.createTransport=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject){var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","Microsoft.XMLHTTP"];for(var t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(n){}}return null},AsyncConnector.serviceRequest=function(httpRequest,callback,options){with(httpRequest){var id;options!=null&&(id=options.id);if(id!=null){if(AsyncConnector.ids[id]!=null)return;AsyncConnector.ids[id]=!0}var http=AsyncConnector.createTransport();http.open(method==Http.METHOD_GET?Http.METHOD_GET:Http.METHOD_POST,url.toString(),!0),http.setRequestHeader("X-Send-OK-Only",!0),http.setRequestHeader("X-Request-Method",method);for(var i=0;i<headers.length;i++)http.setRequestHeader(headers[i].name,headers[i].value);(method==Http.METHOD_POST||method==Http.METHOD_PUT)&&http.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),AsyncConnector.handleReadyState(http,callback,id,url.toString()),http.send(getContent())}},AsyncConnector.handleReadyState=function(e,t,n,r){var i=setInterval(function(){if(e.readyState==4){try{t(new HttpResponse(e))}catch(s){alert("An error was thrown from the callback handler for the request to "+r)}delete AsyncConnector.ids[n],clearInterval(i)}},300)},window.HttpRequest=HttpRequest,window.HttpGetRequest=HttpGetRequest,window.HttpPutRequest=HttpPutRequest,window.HttpPostRequest=HttpPostRequest,window.HttpDeleteRequest=HttpDeleteRequest,window.HttpResponse=HttpResponse,window.Url=Url,window.ParameterList=ParameterList,window.UrlEncoder=UrlEncoder,UrlEncoder.hex="0123456789ABCDEF",UrlEncoder.escapeChars=new Array(256);for(var i=0;i<16;i++)for(var j=0;j<16;j++)UrlEncoder.escapeChars[i*16+j]="%"+UrlEncoder.hex.charAt(i)+UrlEncoder.hex.charAt(j);UrlEncoder.encode=function(e){if(e==null)return e;e=""+e;var t=new CoreHttpStringBuffer,n=e.length;for(var r=0;r<n;r++){var i=e.charCodeAt(r);i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||i==95||i==46?t.append(e.charAt(r)):i==32?t.append("+"):i<=127?t.append(UrlEncoder.escapeChars[i]):i<=2047?t.append(UrlEncoder.escapeChars[192|i>>6],UrlEncoder.escapeChars[128|i&63]):t.append(UrlEncoder.escapeChars[224|i>>12],UrlEncoder.escapeChars[128|i>>6&63],UrlEncoder.escapeChars[128|i&63])}return t.toString()},UrlEncoder.decode=function(e){if(e==null)return e;var t=0,n=0,r=new CoreHttpStringBuffer,i=e.length;for(var s=0;s<i;s++){switch(e.charAt(s)){case"%":c=e.charCodeAt(++s);var o=(UrlEncoder.isDigit(c)?c-48:10+UrlEncoder.toLowerCase(c)-97)&15;c=e.charCodeAt(++s);var u=(UrlEncoder.isDigit(c)?c-48:10+UrlEncoder.toLowerCase(c)-97)&15;t=o<<4|u;break;case"+":t=32;break;default:t=e.charCodeAt(s)}(t&192)==128?n=n<<6|t&63:(n!=0&&(r.append(String.fromCharCode(n)),n=0),n=(t&128)==0?t:t&31)}return n!=0&&r.append(String.fromCharCode(n)),r.toString()},UrlEncoder.isDigit=function(e){return!isNaN(String.fromCharCode(e))},UrlEncoder.toLowerCase=function(e){return String.fromCharCode(e).toLowerCase().
charCodeAt(0)},window.CoreHttpStringBuffer=CoreHttpStringBuffer,window.Http=Http,Http.METHOD_DELETE="DELETE",Http.METHOD_GET="GET",Http.METHOD_POST="POST",Http.METHOD_PUT="PUT"},"7.9.0");
