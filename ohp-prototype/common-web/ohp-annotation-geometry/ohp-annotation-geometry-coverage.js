/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov_bWraS40rwSh_zi2TWpSsbw = (Function('return this'))();
if (!__cov_bWraS40rwSh_zi2TWpSsbw.__coverage__) { __cov_bWraS40rwSh_zi2TWpSsbw.__coverage__ = {}; }
__cov_bWraS40rwSh_zi2TWpSsbw = __cov_bWraS40rwSh_zi2TWpSsbw.__coverage__;
if (!(__cov_bWraS40rwSh_zi2TWpSsbw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-geometry/ohp-annotation-geometry.js'])) {
   __cov_bWraS40rwSh_zi2TWpSsbw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-geometry/ohp-annotation-geometry.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-geometry/ohp-annotation-geometry.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":35},"end":{"line":2,"column":54}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":27},"end":{"line":22,"column":45}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":19},"end":{"line":32,"column":66}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":76,"column":12}},"2":{"start":{"line":18,"column":0},"end":{"line":71,"column":2}},"3":{"start":{"line":23,"column":2},"end":{"line":24,"column":19}},"4":{"start":{"line":25,"column":2},"end":{"line":25,"column":30}},"5":{"start":{"line":45,"column":2},"end":{"line":46,"column":23}},"6":{"start":{"line":49,"column":2},"end":{"line":51,"column":3}},"7":{"start":{"line":50,"column":3},"end":{"line":50,"column":12}},"8":{"start":{"line":53,"column":2},"end":{"line":53,"column":61}},"9":{"start":{"line":54,"column":2},"end":{"line":54,"column":70}},"10":{"start":{"line":55,"column":2},"end":{"line":55,"column":11}},"11":{"start":{"line":56,"column":2},"end":{"line":56,"column":11}},"12":{"start":{"line":57,"column":2},"end":{"line":57,"column":11}},"13":{"start":{"line":59,"column":2},"end":{"line":69,"column":3}},"14":{"start":{"line":61,"column":3},"end":{"line":61,"column":12}},"15":{"start":{"line":62,"column":9},"end":{"line":69,"column":3}},"16":{"start":{"line":64,"column":3},"end":{"line":64,"column":12}},"17":{"start":{"line":67,"column":3},"end":{"line":67,"column":21}},"18":{"start":{"line":68,"column":3},"end":{"line":68,"column":53}},"19":{"start":{"line":73,"column":0},"end":{"line":73,"column":50}}},"branchMap":{"1":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"2":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":6},"end":{"line":49,"column":41}},{"start":{"line":49,"column":45},"end":{"line":49,"column":80}}]},"3":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":2},"end":{"line":59,"column":2}},{"start":{"line":59,"column":2},"end":{"line":59,"column":2}}]},"4":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":9},"end":{"line":62,"column":9}},{"start":{"line":62,"column":9},"end":{"line":62,"column":9}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","YUI.add('ohp-annotation-geometry', function (Y, NAME) {","","\"use strict\";","/**","Geometry math functions","","@module ohp-annotation-geometry","**/","","/**","Geometry math functions","","@class Geometry","@namespace OHP.Annotation","@constructor","**/","var Geometry = {","\t/*","\t * Calculates the distance between these two points just like Pythagoras told me","\t */","\tgetDistanceBetweenPoints: function (p1, p2) {","\t\tvar a = p2.x - p1.x,","\t\t\tb = p2.y - p1.y;","\t\treturn Math.sqrt(a*a + b*b);","\t},","","\t/*","\t * Calculates the distance of a point from a line segment defined by the line's start and end points.","\t * General algorithm lifted from http://stackoverflow.com/questions/6865832/detecting-if-a-point-is-of-a-line-segment","\t */","\tdistanceFromLine: function (lineStartPoint, lineEndPoint, point) {","\t\t// I hope this helps:","\t\t//","\t\t//      lineStartPoint","\t\t//      |\\","\t\t//      | \\","\t\t//      |  \\","\t\t//     a|   \\c","\t\t//      |    \\","\t\t//      |     \\","\t\t// point|______\\lineEndPoint","\t\t//         b","","\t\tvar a = Geometry.getDistanceBetweenPoints(lineStartPoint, point),","\t\t\tb, c, a2, b2, c2, s;","","\t\t// the start and end are the same, use the distance from the point to that line point","\t\tif (lineStartPoint.x === lineEndPoint.x && lineStartPoint.y === lineEndPoint.y) {","\t\t\treturn a;","\t\t}","","\t\tb = Geometry.getDistanceBetweenPoints(lineEndPoint, point);","\t\tc = Geometry.getDistanceBetweenPoints(lineStartPoint, lineEndPoint);","\t\ta2 = a*a;","\t\tb2 = b*b;","\t\tc2 = c*c;","","\t\tif (b2 >= a2 + c2) {","\t\t\t// the point is at an obtuse or right angle to the start, so return distance to the start","\t\t\treturn a;","\t\t} else if (a2 > b2 + c2) {","\t\t\t// ditto, but for the end","\t\t\treturn b;","\t\t} else {","\t\t\t// between the ends, use the 2D point-line distance equation","\t\t\ts = (a + b + c)/2;","\t\t\treturn 2/c * Math.sqrt(s*(s - a)*(s - b)*(s - c));","\t\t}","\t}","};","","Y.namespace('OHP.Annotation').Geometry = Geometry;","","","}, '7.9.0');","","}());"]};
}
__cov_bWraS40rwSh_zi2TWpSsbw = __cov_bWraS40rwSh_zi2TWpSsbw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-geometry/ohp-annotation-geometry.js'];
__cov_bWraS40rwSh_zi2TWpSsbw.s['1']++;YUI.add('ohp-annotation-geometry',function(Y,NAME){'use strict';__cov_bWraS40rwSh_zi2TWpSsbw.f['1']++;__cov_bWraS40rwSh_zi2TWpSsbw.s['2']++;var Geometry={getDistanceBetweenPoints:function(p1,p2){__cov_bWraS40rwSh_zi2TWpSsbw.f['2']++;__cov_bWraS40rwSh_zi2TWpSsbw.s['3']++;var a=p2.x-p1.x,b=p2.y-p1.y;__cov_bWraS40rwSh_zi2TWpSsbw.s['4']++;return Math.sqrt(a*a+b*b);},distanceFromLine:function(lineStartPoint,lineEndPoint,point){__cov_bWraS40rwSh_zi2TWpSsbw.f['3']++;__cov_bWraS40rwSh_zi2TWpSsbw.s['5']++;var a=Geometry.getDistanceBetweenPoints(lineStartPoint,point),b,c,a2,b2,c2,s;__cov_bWraS40rwSh_zi2TWpSsbw.s['6']++;if((__cov_bWraS40rwSh_zi2TWpSsbw.b['2'][0]++,lineStartPoint.x===lineEndPoint.x)&&(__cov_bWraS40rwSh_zi2TWpSsbw.b['2'][1]++,lineStartPoint.y===lineEndPoint.y)){__cov_bWraS40rwSh_zi2TWpSsbw.b['1'][0]++;__cov_bWraS40rwSh_zi2TWpSsbw.s['7']++;return a;}else{__cov_bWraS40rwSh_zi2TWpSsbw.b['1'][1]++;}__cov_bWraS40rwSh_zi2TWpSsbw.s['8']++;b=Geometry.getDistanceBetweenPoints(lineEndPoint,point);__cov_bWraS40rwSh_zi2TWpSsbw.s['9']++;c=Geometry.getDistanceBetweenPoints(lineStartPoint,lineEndPoint);__cov_bWraS40rwSh_zi2TWpSsbw.s['10']++;a2=a*a;__cov_bWraS40rwSh_zi2TWpSsbw.s['11']++;b2=b*b;__cov_bWraS40rwSh_zi2TWpSsbw.s['12']++;c2=c*c;__cov_bWraS40rwSh_zi2TWpSsbw.s['13']++;if(b2>=a2+c2){__cov_bWraS40rwSh_zi2TWpSsbw.b['3'][0]++;__cov_bWraS40rwSh_zi2TWpSsbw.s['14']++;return a;}else{__cov_bWraS40rwSh_zi2TWpSsbw.b['3'][1]++;__cov_bWraS40rwSh_zi2TWpSsbw.s['15']++;if(a2>b2+c2){__cov_bWraS40rwSh_zi2TWpSsbw.b['4'][0]++;__cov_bWraS40rwSh_zi2TWpSsbw.s['16']++;return b;}else{__cov_bWraS40rwSh_zi2TWpSsbw.b['4'][1]++;__cov_bWraS40rwSh_zi2TWpSsbw.s['17']++;s=(a+b+c)/2;__cov_bWraS40rwSh_zi2TWpSsbw.s['18']++;return 2/c*Math.sqrt(s*(s-a)*(s-b)*(s-c));}}}};__cov_bWraS40rwSh_zi2TWpSsbw.s['19']++;Y.namespace('OHP.Annotation').Geometry=Geometry;},'7.9.0');
