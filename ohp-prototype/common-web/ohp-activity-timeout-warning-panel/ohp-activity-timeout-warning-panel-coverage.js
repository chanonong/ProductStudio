/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov_zsHcoO19Wrg75MiaZQusXw = (Function('return this'))();
if (!__cov_zsHcoO19Wrg75MiaZQusXw.__coverage__) { __cov_zsHcoO19Wrg75MiaZQusXw.__coverage__ = {}; }
__cov_zsHcoO19Wrg75MiaZQusXw = __cov_zsHcoO19Wrg75MiaZQusXw.__coverage__;
if (!(__cov_zsHcoO19Wrg75MiaZQusXw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-activity-timeout-warning-panel/ohp-activity-timeout-warning-panel.js'])) {
   __cov_zsHcoO19Wrg75MiaZQusXw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-activity-timeout-warning-panel/ohp-activity-timeout-warning-panel.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-activity-timeout-warning-panel/ohp-activity-timeout-warning-panel.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":46},"end":{"line":2,"column":65}}},"2":{"name":"(anonymous_2)","line":35,"loc":{"start":{"line":35,"column":14},"end":{"line":35,"column":37}}},"3":{"name":"(anonymous_3)","line":59,"loc":{"start":{"line":59,"column":13},"end":{"line":59,"column":24}}},"4":{"name":"(anonymous_4)","line":64,"loc":{"start":{"line":64,"column":9},"end":{"line":64,"column":20}}},"5":{"name":"(anonymous_5)","line":67,"loc":{"start":{"line":67,"column":24},"end":{"line":67,"column":35}}},"6":{"name":"(anonymous_6)","line":78,"loc":{"start":{"line":78,"column":10},"end":{"line":78,"column":21}}},"7":{"name":"(anonymous_7)","line":85,"loc":{"start":{"line":85,"column":22},"end":{"line":85,"column":33}}},"8":{"name":"(anonymous_8)","line":92,"loc":{"start":{"line":92,"column":22},"end":{"line":92,"column":38}}},"9":{"name":"(anonymous_9)","line":110,"loc":{"start":{"line":110,"column":50},"end":{"line":110,"column":61}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":181,"column":3}},"2":{"start":{"line":11,"column":0},"end":{"line":25,"column":14}},"3":{"start":{"line":34,"column":0},"end":{"line":163,"column":3}},"4":{"start":{"line":36,"column":2},"end":{"line":36,"column":32}},"5":{"start":{"line":44,"column":2},"end":{"line":46,"column":5}},"6":{"start":{"line":54,"column":2},"end":{"line":56,"column":5}},"7":{"start":{"line":60,"column":2},"end":{"line":60,"column":29}},"8":{"start":{"line":61,"column":2},"end":{"line":61,"column":53}},"9":{"start":{"line":65,"column":2},"end":{"line":70,"column":4}},"10":{"start":{"line":68,"column":4},"end":{"line":68,"column":20}},"11":{"start":{"line":79,"column":2},"end":{"line":82,"column":3}},"12":{"start":{"line":80,"column":3},"end":{"line":80,"column":51}},"13":{"start":{"line":81,"column":3},"end":{"line":81,"column":15}},"14":{"start":{"line":86,"column":2},"end":{"line":89,"column":3}},"15":{"start":{"line":87,"column":3},"end":{"line":87,"column":38}},"16":{"start":{"line":88,"column":3},"end":{"line":88,"column":36}},"17":{"start":{"line":93,"column":2},"end":{"line":95,"column":17}},"18":{"start":{"line":97,"column":2},"end":{"line":101,"column":3}},"19":{"start":{"line":99,"column":3},"end":{"line":99,"column":30}},"20":{"start":{"line":100,"column":3},"end":{"line":100,"column":10}},"21":{"start":{"line":103,"column":2},"end":{"line":103,"column":18}},"22":{"start":{"line":105,"column":2},"end":{"line":105,"column":81}},"23":{"start":{"line":106,"column":2},"end":{"line":106,"column":88}},"24":{"start":{"line":108,"column":2},"end":{"line":108,"column":39}},"25":{"start":{"line":110,"column":2},"end":{"line":119,"column":15}},"26":{"start":{"line":111,"column":3},"end":{"line":111,"column":18}},"27":{"start":{"line":113,"column":3},"end":{"line":116,"column":4}},"28":{"start":{"line":114,"column":4},"end":{"line":114,"column":31}},"29":{"start":{"line":115,"column":4},"end":{"line":115,"column":50}},"30":{"start":{"line":118,"column":3},"end":{"line":118,"column":40}},"31":{"start":{"line":165,"column":0},"end":{"line":165,"column":63}}},"branchMap":{"1":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":2},"end":{"line":79,"column":2}},{"start":{"line":79,"column":2},"end":{"line":79,"column":2}}]},"2":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":2},"end":{"line":86,"column":2}},{"start":{"line":86,"column":2},"end":{"line":86,"column":2}}]},"3":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":2},"end":{"line":97,"column":2}},{"start":{"line":97,"column":2},"end":{"line":97,"column":2}}]},"4":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":3},"end":{"line":113,"column":3}},{"start":{"line":113,"column":3},"end":{"line":113,"column":3}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","YUI.add('ohp-activity-timeout-warning-panel', function (Y, NAME) {","","\"use strict\";","/**","Activity timeout warning panel is a panel informing user that inactivity is detected","and an automatic logout will happen in 20 seconds if not dismissed.","","@module ohp-activity-timeout-warning-panel","**/","var Locale = Y.OHP.Locale,","\tgetClassName = Y.OHP.OhpClassNameManager.getClassName,","","\tDEFAULT_WARNING_COUNT_DOWN = 20 * 1000, // 20 seconds","\tPANEL_BODY_CONTENT = '<div>' +","\t\t\t\t\t\t\tLocale.get('cow.activityTimeout.warningPanel.message.inactivityDetected') +","\t\t\t\t\t\t'</div>' +","\t\t\t\t\t\t'<div class=\"cow-activity-timeout-warning-countdown\" ' +","\t\t\t\t\t\t\t'role=\"timer\" ' +","\t\t\t\t\t\t\t'aria-live=\"polite\" ' +","\t\t\t\t\t\t\t'aria-atomic=\"true\" ' +","\t\t\t\t\t\t\t'aria-relevant=\"all\">' +","\t\t\t\t\t\t'</div>',","","\tWarningPanel;","","/**","The activity timeout warning panel.","","@class WarningPanel","@namespace OHP.ActivityTimeout","@extends Y.Panel","**/","WarningPanel = Y.Base.create('ohp-activity-timeout-warning-panel', Y.Panel, [], {","\tinitializer: function( /*config*/ ) {","\t\tthis._eventSubscriptions = [];","","\t\t/**","\t\tThis event is fired when the user dismisses the activity timeout warning panel.","\t\tThis event is broadcasted to Y and Y.Global.","","\t\t@event ohp-activity-timeout:warningDismissed","\t\t**/","\t\tY.publish('ohp-activity-timeout:warningDismissed', {","\t\t\tbroadcast: 2","\t\t});","","\t\t/**","\t\tThis event is fired when the countdown on the warning panel reaches 0 and an automatic logout is triggered.","\t\tThis event is broadcasted to Y and Y.Global.","","\t\t@event ohp-activity-timeout:warningTimeout","\t\t**/","\t\tY.publish('ohp-activity-timeout:warningTimeout', {","\t\t\tbroadcast: 2","\t\t});","\t},","","\tdestructor: function() {","\t\tthis._cancelWarningTimer();","\t\tY.Array.invoke(this._eventSubscriptions, 'detach');","\t},","","\tbindUI: function() {","\t\tthis._eventSubscriptions.push(","\t\t\tthis.after('visibleChange', this._afterVisibleChange, this),","\t\t\tY.on('windowresize', function() {","\t\t\t\tthis.centered();","\t\t\t}, this)","\t\t);","\t},","","\t/**","\tCloses the warning panel and broadcasts the \"ohp-activity-timeout:warningDismissed\" event.","","\t@method dismiss","\t**/","\tdismiss: function() {","\t\tif (this.get('visible')) {","\t\t\tY.fire('ohp-activity-timeout:warningDismissed');","\t\t\tthis.hide();","\t\t}","\t},","","\t_cancelWarningTimer: function() {","\t\tif (this._warningTimeoutTimer) {","\t\t\tthis._warningTimeoutTimer.cancel();","\t\t\tthis._warningTimeoutTimer = null;","\t\t}","\t},","","\t_afterVisibleChange: function(event) {","\t\tvar visible = event.newVal,","\t\t\tcountdown,","\t\t\tcountdownNode;","","\t\tif (!visible) {","\t\t\t// On hide cancel the countdown","\t\t\tthis._cancelWarningTimer();","\t\t\treturn;","\t\t}","","\t\tthis.centered();","","\t\tcountdown = Y.OHP.ActivityTimeout.WarningPanel._WARNING_COUNT_DOWN_TIME / 1000;","\t\tcountdownNode = this.get('contentBox').one('.cow-activity-timeout-warning-countdown');","","\t\tcountdownNode.set('text', countdown);","","\t\tthis._warningTimeoutTimer = Y.later(1000, this, function() {","\t\t\tcountdown -= 1;","","\t\t\tif (countdown === 0) {","\t\t\t\tthis._cancelWarningTimer();","\t\t\t\tY.fire('ohp-activity-timeout:warningTimeout');","\t\t\t}","","\t\t\tcountdownNode.set('text', countdown);","\t\t}, [], true);","\t}","}, {","\tATTRS: {","\t\t// Override default values from Y.Panel","","\t\theaderContent: {","\t\t\tvalue: Locale.get('cow.activityTimeout.warningPanel.heading.automaticLogout')","\t\t},","\t\tbodyContent: {","\t\t\tvalue: PANEL_BODY_CONTENT","\t\t},","\t\tmodal: {","\t\t\tvalue: true","\t\t},","\t\tvisible: {","\t\t\tvalue: false","\t\t},","\t\t// 2 more digits than the hightest z-index found in other places,","\t\t// which is 999999 for popover. The max supported value is 2147483647.","\t\tzIndex: {","\t\t\tvalue: 99999999","\t\t},","\t\tbuttons: {","\t\t\tvalue: [{","\t\t\t\tname: 'dismiss',","\t\t\t\tlabel: Locale.get('cow.activityTimeout.warningPanel.action.dismiss'),","\t\t\t\tisDefault: true,","\t\t\t\taction: 'dismiss'","\t\t\t}]","\t\t}","\t},","","\tCSS_PREFIX: getClassName('activity', 'timeout', 'warning', 'panel'),","","\t/**","\tNumber of milliseconds to display the warning dialog before automatically logging the user out (exposed for unit testing purposes).","","\t@property _WARNING_COUNT_DOWN_TIME","\t@default 20000 (20s)","\t@type Number","\t@protected","\t**/","\t_WARNING_COUNT_DOWN_TIME: DEFAULT_WARNING_COUNT_DOWN","});","","Y.namespace('OHP.ActivityTimeout').WarningPanel = WarningPanel;","","","}, '7.9.0', {","    \"requires\": [","        \"base\",","        \"node-base\",","        \"event-base\",","        \"event-custom\",","        \"event-resize\",","        \"panel\",","        \"ohp-locale-translations\",","        \"ohp-locale-base\",","        \"ohp-ohp-class-name-manager\"","    ],","    \"skinnable\": true","});","","}());"]};
}
__cov_zsHcoO19Wrg75MiaZQusXw = __cov_zsHcoO19Wrg75MiaZQusXw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-activity-timeout-warning-panel/ohp-activity-timeout-warning-panel.js'];
__cov_zsHcoO19Wrg75MiaZQusXw.s['1']++;YUI.add('ohp-activity-timeout-warning-panel',function(Y,NAME){'use strict';__cov_zsHcoO19Wrg75MiaZQusXw.f['1']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['2']++;var Locale=Y.OHP.Locale,getClassName=Y.OHP.OhpClassNameManager.getClassName,DEFAULT_WARNING_COUNT_DOWN=20*1000,PANEL_BODY_CONTENT='<div>'+Locale.get('cow.activityTimeout.warningPanel.message.inactivityDetected')+'</div>'+'<div class="cow-activity-timeout-warning-countdown" '+'role="timer" '+'aria-live="polite" '+'aria-atomic="true" '+'aria-relevant="all">'+'</div>',WarningPanel;__cov_zsHcoO19Wrg75MiaZQusXw.s['3']++;WarningPanel=Y.Base.create('ohp-activity-timeout-warning-panel',Y.Panel,[],{initializer:function(){__cov_zsHcoO19Wrg75MiaZQusXw.f['2']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['4']++;this._eventSubscriptions=[];__cov_zsHcoO19Wrg75MiaZQusXw.s['5']++;Y.publish('ohp-activity-timeout:warningDismissed',{broadcast:2});__cov_zsHcoO19Wrg75MiaZQusXw.s['6']++;Y.publish('ohp-activity-timeout:warningTimeout',{broadcast:2});},destructor:function(){__cov_zsHcoO19Wrg75MiaZQusXw.f['3']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['7']++;this._cancelWarningTimer();__cov_zsHcoO19Wrg75MiaZQusXw.s['8']++;Y.Array.invoke(this._eventSubscriptions,'detach');},bindUI:function(){__cov_zsHcoO19Wrg75MiaZQusXw.f['4']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['9']++;this._eventSubscriptions.push(this.after('visibleChange',this._afterVisibleChange,this),Y.on('windowresize',function(){__cov_zsHcoO19Wrg75MiaZQusXw.f['5']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['10']++;this.centered();},this));},dismiss:function(){__cov_zsHcoO19Wrg75MiaZQusXw.f['6']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['11']++;if(this.get('visible')){__cov_zsHcoO19Wrg75MiaZQusXw.b['1'][0]++;__cov_zsHcoO19Wrg75MiaZQusXw.s['12']++;Y.fire('ohp-activity-timeout:warningDismissed');__cov_zsHcoO19Wrg75MiaZQusXw.s['13']++;this.hide();}else{__cov_zsHcoO19Wrg75MiaZQusXw.b['1'][1]++;}},_cancelWarningTimer:function(){__cov_zsHcoO19Wrg75MiaZQusXw.f['7']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['14']++;if(this._warningTimeoutTimer){__cov_zsHcoO19Wrg75MiaZQusXw.b['2'][0]++;__cov_zsHcoO19Wrg75MiaZQusXw.s['15']++;this._warningTimeoutTimer.cancel();__cov_zsHcoO19Wrg75MiaZQusXw.s['16']++;this._warningTimeoutTimer=null;}else{__cov_zsHcoO19Wrg75MiaZQusXw.b['2'][1]++;}},_afterVisibleChange:function(event){__cov_zsHcoO19Wrg75MiaZQusXw.f['8']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['17']++;var visible=event.newVal,countdown,countdownNode;__cov_zsHcoO19Wrg75MiaZQusXw.s['18']++;if(!visible){__cov_zsHcoO19Wrg75MiaZQusXw.b['3'][0]++;__cov_zsHcoO19Wrg75MiaZQusXw.s['19']++;this._cancelWarningTimer();__cov_zsHcoO19Wrg75MiaZQusXw.s['20']++;return;}else{__cov_zsHcoO19Wrg75MiaZQusXw.b['3'][1]++;}__cov_zsHcoO19Wrg75MiaZQusXw.s['21']++;this.centered();__cov_zsHcoO19Wrg75MiaZQusXw.s['22']++;countdown=Y.OHP.ActivityTimeout.WarningPanel._WARNING_COUNT_DOWN_TIME/1000;__cov_zsHcoO19Wrg75MiaZQusXw.s['23']++;countdownNode=this.get('contentBox').one('.cow-activity-timeout-warning-countdown');__cov_zsHcoO19Wrg75MiaZQusXw.s['24']++;countdownNode.set('text',countdown);__cov_zsHcoO19Wrg75MiaZQusXw.s['25']++;this._warningTimeoutTimer=Y.later(1000,this,function(){__cov_zsHcoO19Wrg75MiaZQusXw.f['9']++;__cov_zsHcoO19Wrg75MiaZQusXw.s['26']++;countdown-=1;__cov_zsHcoO19Wrg75MiaZQusXw.s['27']++;if(countdown===0){__cov_zsHcoO19Wrg75MiaZQusXw.b['4'][0]++;__cov_zsHcoO19Wrg75MiaZQusXw.s['28']++;this._cancelWarningTimer();__cov_zsHcoO19Wrg75MiaZQusXw.s['29']++;Y.fire('ohp-activity-timeout:warningTimeout');}else{__cov_zsHcoO19Wrg75MiaZQusXw.b['4'][1]++;}__cov_zsHcoO19Wrg75MiaZQusXw.s['30']++;countdownNode.set('text',countdown);},[],true);}},{ATTRS:{headerContent:{value:Locale.get('cow.activityTimeout.warningPanel.heading.automaticLogout')},bodyContent:{value:PANEL_BODY_CONTENT},modal:{value:true},visible:{value:false},zIndex:{value:99999999},buttons:{value:[{name:'dismiss',label:Locale.get('cow.activityTimeout.warningPanel.action.dismiss'),isDefault:true,action:'dismiss'}]}},CSS_PREFIX:getClassName('activity','timeout','warning','panel'),_WARNING_COUNT_DOWN_TIME:DEFAULT_WARNING_COUNT_DOWN});__cov_zsHcoO19Wrg75MiaZQusXw.s['31']++;Y.namespace('OHP.ActivityTimeout').WarningPanel=WarningPanel;},'7.9.0',{'requires':['base','node-base','event-base','event-custom','event-resize','panel','ohp-locale-translations','ohp-locale-base','ohp-ohp-class-name-manager'],'skinnable':true});
