/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov_nkbVAIoPl0oGlgg7$6NHsw = (Function('return this'))();
if (!__cov_nkbVAIoPl0oGlgg7$6NHsw.__coverage__) { __cov_nkbVAIoPl0oGlgg7$6NHsw.__coverage__ = {}; }
__cov_nkbVAIoPl0oGlgg7$6NHsw = __cov_nkbVAIoPl0oGlgg7$6NHsw.__coverage__;
if (!(__cov_nkbVAIoPl0oGlgg7$6NHsw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-graphics/ohp-annotation-graphics.js'])) {
   __cov_nkbVAIoPl0oGlgg7$6NHsw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-graphics/ohp-annotation-graphics.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-graphics/ohp-annotation-graphics.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":35},"end":{"line":2,"column":54}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":9},"end":{"line":22,"column":20}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":9},"end":{"line":31,"column":20}}},"4":{"name":"(anonymous_4)","line":96,"loc":{"start":{"line":96,"column":8},"end":{"line":96,"column":19}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":121,"column":56}},"2":{"start":{"line":12,"column":0},"end":{"line":15,"column":13}},"3":{"start":{"line":18,"column":0},"end":{"line":66,"column":1}},"4":{"start":{"line":19,"column":1},"end":{"line":26,"column":3}},"5":{"start":{"line":23,"column":3},"end":{"line":23,"column":53}},"6":{"start":{"line":24,"column":3},"end":{"line":24,"column":50}},"7":{"start":{"line":27,"column":7},"end":{"line":66,"column":1}},"8":{"start":{"line":28,"column":1},"end":{"line":62,"column":3}},"9":{"start":{"line":32,"column":3},"end":{"line":35,"column":23}},"10":{"start":{"line":37,"column":3},"end":{"line":37,"column":16}},"11":{"start":{"line":40,"column":3},"end":{"line":40,"column":22}},"12":{"start":{"line":41,"column":3},"end":{"line":41,"column":33}},"13":{"start":{"line":42,"column":3},"end":{"line":42,"column":14}},"14":{"start":{"line":44,"column":3},"end":{"line":58,"column":4}},"15":{"start":{"line":47,"column":4},"end":{"line":48,"column":108}},"16":{"start":{"line":49,"column":4},"end":{"line":50,"column":122}},"17":{"start":{"line":51,"column":4},"end":{"line":53,"column":111}},"18":{"start":{"line":55,"column":4},"end":{"line":55,"column":31}},"19":{"start":{"line":56,"column":4},"end":{"line":56,"column":31}},"20":{"start":{"line":57,"column":4},"end":{"line":57,"column":40}},"21":{"start":{"line":63,"column":7},"end":{"line":66,"column":1}},"22":{"start":{"line":65,"column":1},"end":{"line":65,"column":25}},"23":{"start":{"line":76,"column":0},"end":{"line":82,"column":3}},"24":{"start":{"line":84,"column":0},"end":{"line":84,"column":52}},"25":{"start":{"line":95,"column":0},"end":{"line":116,"column":3}},"26":{"start":{"line":97,"column":2},"end":{"line":101,"column":17}},"27":{"start":{"line":102,"column":2},"end":{"line":102,"column":15}},"28":{"start":{"line":103,"column":2},"end":{"line":103,"column":20}},"29":{"start":{"line":104,"column":2},"end":{"line":104,"column":24}},"30":{"start":{"line":105,"column":2},"end":{"line":105,"column":45}},"31":{"start":{"line":106,"column":2},"end":{"line":106,"column":24}},"32":{"start":{"line":107,"column":2},"end":{"line":107,"column":53}},"33":{"start":{"line":108,"column":2},"end":{"line":108,"column":20}},"34":{"start":{"line":109,"column":2},"end":{"line":109,"column":49}},"35":{"start":{"line":110,"column":2},"end":{"line":110,"column":20}},"36":{"start":{"line":111,"column":2},"end":{"line":111,"column":41}},"37":{"start":{"line":112,"column":2},"end":{"line":112,"column":13}},"38":{"start":{"line":118,"column":0},"end":{"line":118,"column":56}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":0},"end":{"line":18,"column":0}},{"start":{"line":18,"column":0},"end":{"line":18,"column":0}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":7},"end":{"line":27,"column":7}},{"start":{"line":27,"column":7},"end":{"line":27,"column":7}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":3},"end":{"line":44,"column":3}},{"start":{"line":44,"column":3},"end":{"line":44,"column":3}}]},"4":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":7},"end":{"line":63,"column":7}},{"start":{"line":63,"column":7},"end":{"line":63,"column":7}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","YUI.add('ohp-annotation-graphics', function (Y, NAME) {","","\"use strict\";","/**","Extension of Y.Graphics module, for creating custom TextShape and RoundedRect shapes","in SVG with VML fallback","","@module ohp-annotation-graphics","**/","","var doc = Y.config.doc,","\ttextShapePrototype,","\tTextShape,","\tRoundedRect;","","// prototype functionality of TextShape is different for each Graphic type","if (Y.Graphic === Y.SVGGraphic) {","\ttextShapePrototype = {","\t\t_type: 'text',","","\t\t_draw: function() {","\t\t\tTextShape.superclass._draw.apply(this, arguments);","\t\t\tY.one(this.node).set('text', this.get('text'));","\t\t}","\t};","} else if (Y.Graphic === Y.VMLGraphic) {","\ttextShapePrototype = {","\t\t_type: 'shape',","","\t\t_draw: function() {","\t\t\tvar node = this.node,","\t\t\t\ttext = this.get('text'),","\t\t\t\tcolor = this.get('stroke').color,","\t\t\t\tpathNode, fillNode;","","\t\t\tthis.clear();","","\t\t\t// draw path to attach text to","\t\t\tthis.moveTo(-3,-4); // magic number approximate half width and height of a character to get it to start in the right place","\t\t\tthis.lineTo(8*text.length,-4); // ditto","\t\t\tthis.end();","","\t\t\tif (!this.textpathNode) {","\t\t\t\t// create necessary VML elements to draw text","\t\t\t\t// TODO: move common strings to constants","\t\t\t\tpathNode = doc.createElement(","\t\t\t\t\t'<path textpathok=\"true\" style=\"behavior:url(#default#VML);\" xmlns=\"urn:schemas-microsft.com:vml\" />');","\t\t\t\tfillNode = doc.createElement(","\t\t\t\t\t'<fill color=\"' + color + '\" style=\"behavior:url(#default#VML);\" on=\"true\" xmlns=\"urn:schemas-microsft.com:vml\" />');","\t\t\t\tthis.textpathNode = doc.createElement(","\t\t\t\t\t'<textpath string=\"' + text +","\t\t\t\t\t'\" style=\"font-size:14px;behavior:url(#default#VML);\" on=\"true\" xmlns=\"urn:schemas-microsft.com:vml\" />');","","\t\t\t\tnode.appendChild(pathNode);","\t\t\t\tnode.appendChild(fillNode);","\t\t\t\tnode.appendChild(this.textpathNode);","\t\t\t}","\t\t\t// TODO: redraw doesn't work - updating the attributes doesn't do anything, removing and readding does...","\t\t\t// but for some reason the text disappears a few seconds after","\t\t}","\t};","} else if (Y.Graphic === Y.CanvasGraphic) {","\t// TODO support canvas; currently not an issue because YUI uses SVG instead of Canvas for all browsers that support Canvas","\ttextShapePrototype = {};","}","","/**","Custom extension of Shape, to create Text Shapes.","","@class TextShape","@namespace OHP.Annotation","@constructor","@extends Shape","**/","TextShape = Y.Base.create('ohp-annotation-graphics-text', Y.Shape, [], textShapePrototype, {","\tATTRS: Y.mix({","\t\ttext: {","\t\t\tvalue: ''","\t\t}","\t}, Y.Shape.ATTRS)","});","","Y.namespace('OHP.Annotation').TextShape = TextShape;","","/**","Custom extension of Shape, to create Rounded Rect Shapes.","Algorithm taken from taken from http://nacho4d-nacho4d.blogspot.co.nz/2011/05/bezier-paths-rounded-corners-rectangles.html","","@class RoundedRect","@namespace OHP.Annotation","@constructor","@extends Shape","**/","RoundedRect = Y.Base.create('ohp-annotation-graphics-rounded-rect', Y.Shape, [], {","\t_draw: function() {","\t\tvar KAPPA = 0.552228474,","\t\t\tw = this.get('width'),","\t\t\th = this.get('height'),","\t\t\tr = h/2, // ellipse radius","\t\t\tk = KAPPA * r; // kappa proportion of radius","\t\tthis.clear();","\t\tthis.moveTo(0, r);","\t\tthis.lineTo(0, h - r);","\t\tthis.curveTo(0, h - r + k, r - k, h, r, h);","\t\tthis.lineTo(w - r, h);","\t\tthis.curveTo(w - r + k, h, w, h - r + k, w, h - r);","\t\tthis.lineTo(w, r);","\t\tthis.curveTo(w, r - k, w - r + k, 0, w - r, 0);","\t\tthis.lineTo(r, 0);","\t\tthis.curveTo(r - k, 0, 0, r - k, 0, r);","\t\tthis.end();","\t}","}, {","\tATTRS: Y.Shape.ATTRS","});","","Y.namespace('OHP.Annotation').RoundedRect = RoundedRect;","","","}, '7.9.0', {\"requires\": [\"node\", \"base\", \"graphics\"]});","","}());"]};
}
__cov_nkbVAIoPl0oGlgg7$6NHsw = __cov_nkbVAIoPl0oGlgg7$6NHsw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-graphics/ohp-annotation-graphics.js'];
__cov_nkbVAIoPl0oGlgg7$6NHsw.s['1']++;YUI.add('ohp-annotation-graphics',function(Y,NAME){'use strict';__cov_nkbVAIoPl0oGlgg7$6NHsw.f['1']++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['2']++;var doc=Y.config.doc,textShapePrototype,TextShape,RoundedRect;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['3']++;if(Y.Graphic===Y.SVGGraphic){__cov_nkbVAIoPl0oGlgg7$6NHsw.b['1'][0]++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['4']++;textShapePrototype={_type:'text',_draw:function(){__cov_nkbVAIoPl0oGlgg7$6NHsw.f['2']++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['5']++;TextShape.superclass._draw.apply(this,arguments);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['6']++;Y.one(this.node).set('text',this.get('text'));}};}else{__cov_nkbVAIoPl0oGlgg7$6NHsw.b['1'][1]++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['7']++;if(Y.Graphic===Y.VMLGraphic){__cov_nkbVAIoPl0oGlgg7$6NHsw.b['2'][0]++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['8']++;textShapePrototype={_type:'shape',_draw:function(){__cov_nkbVAIoPl0oGlgg7$6NHsw.f['3']++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['9']++;var node=this.node,text=this.get('text'),color=this.get('stroke').color,pathNode,fillNode;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['10']++;this.clear();__cov_nkbVAIoPl0oGlgg7$6NHsw.s['11']++;this.moveTo(-3,-4);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['12']++;this.lineTo(8*text.length,-4);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['13']++;this.end();__cov_nkbVAIoPl0oGlgg7$6NHsw.s['14']++;if(!this.textpathNode){__cov_nkbVAIoPl0oGlgg7$6NHsw.b['3'][0]++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['15']++;pathNode=doc.createElement('<path textpathok="true" style="behavior:url(#default#VML);" xmlns="urn:schemas-microsft.com:vml" />');__cov_nkbVAIoPl0oGlgg7$6NHsw.s['16']++;fillNode=doc.createElement('<fill color="'+color+'" style="behavior:url(#default#VML);" on="true" xmlns="urn:schemas-microsft.com:vml" />');__cov_nkbVAIoPl0oGlgg7$6NHsw.s['17']++;this.textpathNode=doc.createElement('<textpath string="'+text+'" style="font-size:14px;behavior:url(#default#VML);" on="true" xmlns="urn:schemas-microsft.com:vml" />');__cov_nkbVAIoPl0oGlgg7$6NHsw.s['18']++;node.appendChild(pathNode);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['19']++;node.appendChild(fillNode);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['20']++;node.appendChild(this.textpathNode);}else{__cov_nkbVAIoPl0oGlgg7$6NHsw.b['3'][1]++;}}};}else{__cov_nkbVAIoPl0oGlgg7$6NHsw.b['2'][1]++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['21']++;if(Y.Graphic===Y.CanvasGraphic){__cov_nkbVAIoPl0oGlgg7$6NHsw.b['4'][0]++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['22']++;textShapePrototype={};}else{__cov_nkbVAIoPl0oGlgg7$6NHsw.b['4'][1]++;}}}__cov_nkbVAIoPl0oGlgg7$6NHsw.s['23']++;TextShape=Y.Base.create('ohp-annotation-graphics-text',Y.Shape,[],textShapePrototype,{ATTRS:Y.mix({text:{value:''}},Y.Shape.ATTRS)});__cov_nkbVAIoPl0oGlgg7$6NHsw.s['24']++;Y.namespace('OHP.Annotation').TextShape=TextShape;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['25']++;RoundedRect=Y.Base.create('ohp-annotation-graphics-rounded-rect',Y.Shape,[],{_draw:function(){__cov_nkbVAIoPl0oGlgg7$6NHsw.f['4']++;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['26']++;var KAPPA=0.552228474,w=this.get('width'),h=this.get('height'),r=h/2,k=KAPPA*r;__cov_nkbVAIoPl0oGlgg7$6NHsw.s['27']++;this.clear();__cov_nkbVAIoPl0oGlgg7$6NHsw.s['28']++;this.moveTo(0,r);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['29']++;this.lineTo(0,h-r);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['30']++;this.curveTo(0,h-r+k,r-k,h,r,h);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['31']++;this.lineTo(w-r,h);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['32']++;this.curveTo(w-r+k,h,w,h-r+k,w,h-r);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['33']++;this.lineTo(w,r);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['34']++;this.curveTo(w,r-k,w-r+k,0,w-r,0);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['35']++;this.lineTo(r,0);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['36']++;this.curveTo(r-k,0,0,r-k,0,r);__cov_nkbVAIoPl0oGlgg7$6NHsw.s['37']++;this.end();}},{ATTRS:Y.Shape.ATTRS});__cov_nkbVAIoPl0oGlgg7$6NHsw.s['38']++;Y.namespace('OHP.Annotation').RoundedRect=RoundedRect;},'7.9.0',{'requires':['node','base','graphics']});
