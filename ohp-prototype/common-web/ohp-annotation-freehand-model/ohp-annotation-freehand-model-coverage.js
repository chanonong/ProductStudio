/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov_8VDZMIbqPINyzf0Rhpy18g = (Function('return this'))();
if (!__cov_8VDZMIbqPINyzf0Rhpy18g.__coverage__) { __cov_8VDZMIbqPINyzf0Rhpy18g.__coverage__ = {}; }
__cov_8VDZMIbqPINyzf0Rhpy18g = __cov_8VDZMIbqPINyzf0Rhpy18g.__coverage__;
if (!(__cov_8VDZMIbqPINyzf0Rhpy18g['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-freehand-model/ohp-annotation-freehand-model.js'])) {
   __cov_8VDZMIbqPINyzf0Rhpy18g['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-freehand-model/ohp-annotation-freehand-model.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-freehand-model/ohp-annotation-freehand-model.js","s":{"1":0,"2":0,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":41},"end":{"line":2,"column":60}}},"2":{"name":"closeToLine","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":58}}},"3":{"name":"(anonymous_3)","line":36,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":27}}},"4":{"name":"(anonymous_4)","line":62,"loc":{"start":{"line":62,"column":6},"end":{"line":62,"column":22}}},"5":{"name":"(anonymous_5)","line":79,"loc":{"start":{"line":79,"column":16},"end":{"line":79,"column":32}}},"6":{"name":"(anonymous_6)","line":99,"loc":{"start":{"line":99,"column":28},"end":{"line":99,"column":39}}},"7":{"name":"(anonymous_7)","line":120,"loc":{"start":{"line":120,"column":12},"end":{"line":120,"column":28}}},"8":{"name":"(anonymous_8)","line":161,"loc":{"start":{"line":161,"column":6},"end":{"line":161,"column":22}}},"9":{"name":"(anonymous_9)","line":164,"loc":{"start":{"line":164,"column":50},"end":{"line":164,"column":70}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":202,"column":3}},"2":{"start":{"line":11,"column":0},"end":{"line":12,"column":15}},"3":{"start":{"line":17,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":18,"column":1},"end":{"line":18,"column":79}},"5":{"start":{"line":19,"column":1},"end":{"line":19,"column":22}},"6":{"start":{"line":30,"column":0},"end":{"line":189,"column":3}},"7":{"start":{"line":37,"column":2},"end":{"line":38,"column":38}},"8":{"start":{"line":40,"column":2},"end":{"line":59,"column":3}},"9":{"start":{"line":41,"column":3},"end":{"line":41,"column":22}},"10":{"start":{"line":42,"column":3},"end":{"line":47,"column":6}},"11":{"start":{"line":48,"column":3},"end":{"line":48,"column":15}},"12":{"start":{"line":51,"column":3},"end":{"line":58,"column":4}},"13":{"start":{"line":52,"column":4},"end":{"line":52,"column":23}},"14":{"start":{"line":54,"column":4},"end":{"line":54,"column":30}},"15":{"start":{"line":55,"column":4},"end":{"line":55,"column":16}},"16":{"start":{"line":57,"column":4},"end":{"line":57,"column":17}},"17":{"start":{"line":63,"column":2},"end":{"line":64,"column":13}},"18":{"start":{"line":68,"column":2},"end":{"line":73,"column":3}},"19":{"start":{"line":69,"column":3},"end":{"line":69,"column":22}},"20":{"start":{"line":70,"column":3},"end":{"line":70,"column":21}},"21":{"start":{"line":72,"column":3},"end":{"line":72,"column":41}},"22":{"start":{"line":75,"column":2},"end":{"line":75,"column":32}},"23":{"start":{"line":76,"column":2},"end":{"line":76,"column":35}},"24":{"start":{"line":80,"column":2},"end":{"line":80,"column":34}},"25":{"start":{"line":82,"column":2},"end":{"line":86,"column":3}},"26":{"start":{"line":83,"column":3},"end":{"line":83,"column":25}},"27":{"start":{"line":84,"column":9},"end":{"line":86,"column":3}},"28":{"start":{"line":85,"column":3},"end":{"line":85,"column":26}},"29":{"start":{"line":88,"column":2},"end":{"line":92,"column":3}},"30":{"start":{"line":89,"column":3},"end":{"line":89,"column":24}},"31":{"start":{"line":90,"column":9},"end":{"line":92,"column":3}},"32":{"start":{"line":91,"column":3},"end":{"line":91,"column":27}},"33":{"start":{"line":100,"column":2},"end":{"line":105,"column":9}},"34":{"start":{"line":107,"column":2},"end":{"line":113,"column":3}},"35":{"start":{"line":108,"column":3},"end":{"line":108,"column":21}},"36":{"start":{"line":109,"column":3},"end":{"line":112,"column":4}},"37":{"start":{"line":110,"column":4},"end":{"line":110,"column":32}},"38":{"start":{"line":111,"column":4},"end":{"line":111,"column":22}},"39":{"start":{"line":115,"column":2},"end":{"line":115,"column":50}},"40":{"start":{"line":117,"column":2},"end":{"line":117,"column":47}},"41":{"start":{"line":121,"column":2},"end":{"line":127,"column":5}},"42":{"start":{"line":129,"column":2},"end":{"line":131,"column":5}},"43":{"start":{"line":132,"column":2},"end":{"line":132,"column":25}},"44":{"start":{"line":134,"column":2},"end":{"line":134,"column":32}},"45":{"start":{"line":138,"column":2},"end":{"line":147,"column":3}},"46":{"start":{"line":141,"column":3},"end":{"line":141,"column":54}},"47":{"start":{"line":143,"column":3},"end":{"line":146,"column":5}},"48":{"start":{"line":149,"column":2},"end":{"line":152,"column":3}},"49":{"start":{"line":150,"column":3},"end":{"line":150,"column":21}},"50":{"start":{"line":151,"column":3},"end":{"line":151,"column":33}},"51":{"start":{"line":154,"column":2},"end":{"line":154,"column":40}},"52":{"start":{"line":156,"column":2},"end":{"line":156,"column":13}},"53":{"start":{"line":158,"column":2},"end":{"line":158,"column":16}},"54":{"start":{"line":162,"column":2},"end":{"line":162,"column":21}},"55":{"start":{"line":164,"column":2},"end":{"line":171,"column":5}},"56":{"start":{"line":165,"column":3},"end":{"line":169,"column":4}},"57":{"start":{"line":166,"column":4},"end":{"line":168,"column":5}},"58":{"start":{"line":167,"column":5},"end":{"line":167,"column":17}},"59":{"start":{"line":170,"column":3},"end":{"line":170,"column":25}},"60":{"start":{"line":172,"column":2},"end":{"line":172,"column":13}},"61":{"start":{"line":191,"column":0},"end":{"line":191,"column":60}}},"branchMap":{"1":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":2},"end":{"line":40,"column":2}},{"start":{"line":40,"column":2},"end":{"line":40,"column":2}}]},"2":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":3},"end":{"line":51,"column":3}},{"start":{"line":51,"column":3},"end":{"line":51,"column":3}}]},"3":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":2},"end":{"line":68,"column":2}},{"start":{"line":68,"column":2},"end":{"line":68,"column":2}}]},"4":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":2},"end":{"line":82,"column":2}},{"start":{"line":82,"column":2},"end":{"line":82,"column":2}}]},"5":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":9},"end":{"line":84,"column":9}},{"start":{"line":84,"column":9},"end":{"line":84,"column":9}}]},"6":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":2},"end":{"line":88,"column":2}},{"start":{"line":88,"column":2},"end":{"line":88,"column":2}}]},"7":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":9},"end":{"line":90,"column":9}},{"start":{"line":90,"column":9},"end":{"line":90,"column":9}}]},"8":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":3},"end":{"line":109,"column":3}},{"start":{"line":109,"column":3},"end":{"line":109,"column":3}}]},"9":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":2},"end":{"line":138,"column":2}},{"start":{"line":138,"column":2},"end":{"line":138,"column":2}}]},"10":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":6},"end":{"line":138,"column":21}},{"start":{"line":138,"column":25},"end":{"line":138,"column":48}},{"start":{"line":138,"column":52},"end":{"line":138,"column":75}}]},"11":{"line":144,"type":"cond-expr","locations":[{"start":{"line":144,"column":20},"end":{"line":144,"column":35}},{"start":{"line":144,"column":40},"end":{"line":144,"column":55}}]},"12":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":3},"end":{"line":165,"column":3}},{"start":{"line":165,"column":3},"end":{"line":165,"column":3}}]},"13":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":4},"end":{"line":166,"column":4}},{"start":{"line":166,"column":4},"end":{"line":166,"column":4}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","YUI.add('ohp-annotation-freehand-model', function (Y, NAME) {","","\"use strict\";","/**","Extension of DrawingModel for creating Freehand Drawings","","@module ohp-annotation-freehand-model","**/","","var Geometry = Y.OHP.Annotation.Geometry,","\tFreehandModel;","","/*","Returns true if the given point is within 10 units from a line segment defined by the line's start and end points","*/","function closeToLine(lineStartPoint, lineEndPoint, point) {","\tvar distance = Geometry.distanceFromLine(lineStartPoint, lineEndPoint, point);","\treturn distance < 10;","}","","/**","Extension of DrawingModel for creating Freehand Drawings","","@class FreehandModel","@namespace OHP.Annotation","@constructor","@extends OHP.Annotation.DrawingModel","**/","FreehandModel = Y.Base.create('ohp-annotation-freehand-model', Y.OHP.Annotation.DrawingModel, [], {","","\t/*","\t * Add new point to end of points array for this Drawing.","\t * Only adds if its not too close to the last point. Returns true if it added the point.","\t */","\taddPoint: function(point) {","\t\tvar points = this.get('points'),","\t\t\tlastPointIndex = points.length - 1;","","\t\tif (lastPointIndex < 0) {","\t\t\tpoints.push(point);","\t\t\tthis.set('bounds', {","\t\t\t\tleft: point.x,","\t\t\t\ttop: point.y,","\t\t\t\tright: point.x,","\t\t\t\tbottom: point.y","\t\t\t});","\t\t\treturn true;","\t\t} else {","\t\t\t// optimisation - only add the point if its further than 3 pixels","\t\t\tif (Geometry.getDistanceBetweenPoints(point, points[lastPointIndex]) > 3) {","\t\t\t\tpoints.push(point);","\t\t\t\t// TODO: consider whether this should only be done at the end, or as we go","\t\t\t\tthis._updateBounds(point);","\t\t\t\treturn true;","\t\t\t} else {","\t\t\t\treturn false;","\t\t\t}","\t\t}","\t},","","\tend: function(point) {","\t\tvar points = this.get('points'),","\t\t\tlastPoint;","","\t\t// User interaction might have ended outside bounds of the container,","\t\t// in which case, point is null, and we should use last point added","\t\tif (point) {","\t\t\tpoints.push(point);","\t\t\tlastPoint = point;","\t\t} else {","\t\t\tlastPoint = points[points.length - 1];","\t\t}","","\t\tthis._updateBounds(lastPoint);","\t\tthis._calculateHitSamplePoints();","\t},","","\t_updateBounds: function(point) {","\t\tvar bounds = this.get('bounds');","","\t\tif (bounds.left > point.x) {","\t\t\tbounds.left = point.x;","\t\t} else if (bounds.right < point.x) {","\t\t\tbounds.right = point.x;","\t\t}","","\t\tif (bounds.top > point.y) {","\t\t\tbounds.top = point.y;","\t\t} else if (bounds.bottom < point.y) {","\t\t\tbounds.bottom = point.y;","\t\t}","\t},","","\t/*","\t * Instead of checking if points are close to every line segment, we calculate a sample set of points","\t * where points closer than 7 pixels to the previous point are skipped.","\t */","\t_calculateHitSamplePoints: function() {","\t\tvar points = this.get('points'),","\t\t\tprevPoint = points[0],","\t\t\thitSamplePoints = [prevPoint],","\t\t\tn = points.length,","\t\t\ti,","\t\t\tpoint;","","\t\tfor (i = 1; i < n; i += 1) {","\t\t\tpoint = points[i];","\t\t\tif (Geometry.getDistanceBetweenPoints(point, prevPoint) > 7) {","\t\t\t\thitSamplePoints.push(point);","\t\t\t\tprevPoint = point;","\t\t\t}","\t\t}","","\t\thitSamplePoints.push(points[points.length - 1]);","","\t\tthis.set('hitSamplePoints', hitSamplePoints);","\t},","","\taddShapes: function(layer) {","\t\tvar points = this.get('points'),","\t\t\tpoint = points[0],","\t\t\tlastIndex = points.length - 1,","\t\t\tlastPoint = points[lastIndex],","\t\t\tnegative,","\t\t\tpath,","\t\t\ti;","","\t\tlayer.set('stroke', {","\t\t\tweight: 3","\t\t});","\t\tpath = layer.addPath();","","\t\tpath.moveTo(point.x, point.y);","","\t\t// To prevent bug in IE where lines of length 0 are not visible,","\t\t// when start and end points are the same, shift x co-ordinate of last point by 1.","\t\tif (lastIndex === 1 && point.x === lastPoint.x && point.y === lastPoint.y) {","","\t\t\t// Ensure point is not added out of bounds.","\t\t\tnegative = lastPoint.x >= (layer.get('width') - 2);","","\t\t\tlastPoint = {","\t\t\t\tx: (negative ? (lastPoint.x - 1) : (lastPoint.x + 1)),","\t\t\t\ty: lastPoint.y","\t\t\t};","\t\t}","","\t\tfor (i = 1; i < lastIndex; i += 1) {","\t\t\tpoint = points[i];","\t\t\tpath.lineTo(point.x, point.y);","\t\t}","","\t\tpath.lineTo(lastPoint.x, lastPoint.y);","","\t\tpath.end();","","\t\treturn [path];","\t},","","\thit: function(point) {","\t\tvar hit, prevPoint;","","\t\thit = Y.Array.some(this.get('hitSamplePoints'), function (nextPoint){","\t\t\tif (prevPoint) {","\t\t\t\tif (closeToLine(prevPoint, nextPoint, point)) {","\t\t\t\t\treturn true;","\t\t\t\t}","\t\t\t}","\t\t\tprevPoint = nextPoint;","\t\t});","\t\treturn hit;","\t}","","}, {","\tATTRS: {","\t\t/*","\t\t * points to draw","\t\t */","\t\tpoints: {","\t\t\tvalue: []","\t\t},","","\t\t/*","\t\t * reduced set of points to check hit","\t\t */","\t\thitSamplePoints: {}","\t}","});","","Y.namespace('OHP.Annotation').FreehandModel = FreehandModel;","","","}, '7.9.0', {","    \"requires\": [","        \"ohp-annotation-geometry\",","        \"model\",","        \"ohp-annotation-drawing-model\",","        \"base\",","        \"ohp-annotation-layer\"","    ]","});","","}());"]};
}
__cov_8VDZMIbqPINyzf0Rhpy18g = __cov_8VDZMIbqPINyzf0Rhpy18g['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-freehand-model/ohp-annotation-freehand-model.js'];
__cov_8VDZMIbqPINyzf0Rhpy18g.s['1']++;YUI.add('ohp-annotation-freehand-model',function(Y,NAME){'use strict';__cov_8VDZMIbqPINyzf0Rhpy18g.f['1']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['2']++;var Geometry=Y.OHP.Annotation.Geometry,FreehandModel;function closeToLine(lineStartPoint,lineEndPoint,point){__cov_8VDZMIbqPINyzf0Rhpy18g.f['2']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['4']++;var distance=Geometry.distanceFromLine(lineStartPoint,lineEndPoint,point);__cov_8VDZMIbqPINyzf0Rhpy18g.s['5']++;return distance<10;}__cov_8VDZMIbqPINyzf0Rhpy18g.s['6']++;FreehandModel=Y.Base.create('ohp-annotation-freehand-model',Y.OHP.Annotation.DrawingModel,[],{addPoint:function(point){__cov_8VDZMIbqPINyzf0Rhpy18g.f['3']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['7']++;var points=this.get('points'),lastPointIndex=points.length-1;__cov_8VDZMIbqPINyzf0Rhpy18g.s['8']++;if(lastPointIndex<0){__cov_8VDZMIbqPINyzf0Rhpy18g.b['1'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['9']++;points.push(point);__cov_8VDZMIbqPINyzf0Rhpy18g.s['10']++;this.set('bounds',{left:point.x,top:point.y,right:point.x,bottom:point.y});__cov_8VDZMIbqPINyzf0Rhpy18g.s['11']++;return true;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['1'][1]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['12']++;if(Geometry.getDistanceBetweenPoints(point,points[lastPointIndex])>3){__cov_8VDZMIbqPINyzf0Rhpy18g.b['2'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['13']++;points.push(point);__cov_8VDZMIbqPINyzf0Rhpy18g.s['14']++;this._updateBounds(point);__cov_8VDZMIbqPINyzf0Rhpy18g.s['15']++;return true;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['2'][1]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['16']++;return false;}}},end:function(point){__cov_8VDZMIbqPINyzf0Rhpy18g.f['4']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['17']++;var points=this.get('points'),lastPoint;__cov_8VDZMIbqPINyzf0Rhpy18g.s['18']++;if(point){__cov_8VDZMIbqPINyzf0Rhpy18g.b['3'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['19']++;points.push(point);__cov_8VDZMIbqPINyzf0Rhpy18g.s['20']++;lastPoint=point;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['3'][1]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['21']++;lastPoint=points[points.length-1];}__cov_8VDZMIbqPINyzf0Rhpy18g.s['22']++;this._updateBounds(lastPoint);__cov_8VDZMIbqPINyzf0Rhpy18g.s['23']++;this._calculateHitSamplePoints();},_updateBounds:function(point){__cov_8VDZMIbqPINyzf0Rhpy18g.f['5']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['24']++;var bounds=this.get('bounds');__cov_8VDZMIbqPINyzf0Rhpy18g.s['25']++;if(bounds.left>point.x){__cov_8VDZMIbqPINyzf0Rhpy18g.b['4'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['26']++;bounds.left=point.x;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['4'][1]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['27']++;if(bounds.right<point.x){__cov_8VDZMIbqPINyzf0Rhpy18g.b['5'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['28']++;bounds.right=point.x;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['5'][1]++;}}__cov_8VDZMIbqPINyzf0Rhpy18g.s['29']++;if(bounds.top>point.y){__cov_8VDZMIbqPINyzf0Rhpy18g.b['6'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['30']++;bounds.top=point.y;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['6'][1]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['31']++;if(bounds.bottom<point.y){__cov_8VDZMIbqPINyzf0Rhpy18g.b['7'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['32']++;bounds.bottom=point.y;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['7'][1]++;}}},_calculateHitSamplePoints:function(){__cov_8VDZMIbqPINyzf0Rhpy18g.f['6']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['33']++;var points=this.get('points'),prevPoint=points[0],hitSamplePoints=[prevPoint],n=points.length,i,point;__cov_8VDZMIbqPINyzf0Rhpy18g.s['34']++;for(i=1;i<n;i+=1){__cov_8VDZMIbqPINyzf0Rhpy18g.s['35']++;point=points[i];__cov_8VDZMIbqPINyzf0Rhpy18g.s['36']++;if(Geometry.getDistanceBetweenPoints(point,prevPoint)>7){__cov_8VDZMIbqPINyzf0Rhpy18g.b['8'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['37']++;hitSamplePoints.push(point);__cov_8VDZMIbqPINyzf0Rhpy18g.s['38']++;prevPoint=point;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['8'][1]++;}}__cov_8VDZMIbqPINyzf0Rhpy18g.s['39']++;hitSamplePoints.push(points[points.length-1]);__cov_8VDZMIbqPINyzf0Rhpy18g.s['40']++;this.set('hitSamplePoints',hitSamplePoints);},addShapes:function(layer){__cov_8VDZMIbqPINyzf0Rhpy18g.f['7']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['41']++;var points=this.get('points'),point=points[0],lastIndex=points.length-1,lastPoint=points[lastIndex],negative,path,i;__cov_8VDZMIbqPINyzf0Rhpy18g.s['42']++;layer.set('stroke',{weight:3});__cov_8VDZMIbqPINyzf0Rhpy18g.s['43']++;path=layer.addPath();__cov_8VDZMIbqPINyzf0Rhpy18g.s['44']++;path.moveTo(point.x,point.y);__cov_8VDZMIbqPINyzf0Rhpy18g.s['45']++;if((__cov_8VDZMIbqPINyzf0Rhpy18g.b['10'][0]++,lastIndex===1)&&(__cov_8VDZMIbqPINyzf0Rhpy18g.b['10'][1]++,point.x===lastPoint.x)&&(__cov_8VDZMIbqPINyzf0Rhpy18g.b['10'][2]++,point.y===lastPoint.y)){__cov_8VDZMIbqPINyzf0Rhpy18g.b['9'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['46']++;negative=lastPoint.x>=layer.get('width')-2;__cov_8VDZMIbqPINyzf0Rhpy18g.s['47']++;lastPoint={x:negative?(__cov_8VDZMIbqPINyzf0Rhpy18g.b['11'][0]++,lastPoint.x-1):(__cov_8VDZMIbqPINyzf0Rhpy18g.b['11'][1]++,lastPoint.x+1),y:lastPoint.y};}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['9'][1]++;}__cov_8VDZMIbqPINyzf0Rhpy18g.s['48']++;for(i=1;i<lastIndex;i+=1){__cov_8VDZMIbqPINyzf0Rhpy18g.s['49']++;point=points[i];__cov_8VDZMIbqPINyzf0Rhpy18g.s['50']++;path.lineTo(point.x,point.y);}__cov_8VDZMIbqPINyzf0Rhpy18g.s['51']++;path.lineTo(lastPoint.x,lastPoint.y);__cov_8VDZMIbqPINyzf0Rhpy18g.s['52']++;path.end();__cov_8VDZMIbqPINyzf0Rhpy18g.s['53']++;return[path];},hit:function(point){__cov_8VDZMIbqPINyzf0Rhpy18g.f['8']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['54']++;var hit,prevPoint;__cov_8VDZMIbqPINyzf0Rhpy18g.s['55']++;hit=Y.Array.some(this.get('hitSamplePoints'),function(nextPoint){__cov_8VDZMIbqPINyzf0Rhpy18g.f['9']++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['56']++;if(prevPoint){__cov_8VDZMIbqPINyzf0Rhpy18g.b['12'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['57']++;if(closeToLine(prevPoint,nextPoint,point)){__cov_8VDZMIbqPINyzf0Rhpy18g.b['13'][0]++;__cov_8VDZMIbqPINyzf0Rhpy18g.s['58']++;return true;}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['13'][1]++;}}else{__cov_8VDZMIbqPINyzf0Rhpy18g.b['12'][1]++;}__cov_8VDZMIbqPINyzf0Rhpy18g.s['59']++;prevPoint=nextPoint;});__cov_8VDZMIbqPINyzf0Rhpy18g.s['60']++;return hit;}},{ATTRS:{points:{value:[]},hitSamplePoints:{}}});__cov_8VDZMIbqPINyzf0Rhpy18g.s['61']++;Y.namespace('OHP.Annotation').FreehandModel=FreehandModel;},'7.9.0',{'requires':['ohp-annotation-geometry','model','ohp-annotation-drawing-model','base','ohp-annotation-layer']});
