/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov_5nX0Iw9TbpnOeiY4msMrHw = (Function('return this'))();
if (!__cov_5nX0Iw9TbpnOeiY4msMrHw.__coverage__) { __cov_5nX0Iw9TbpnOeiY4msMrHw.__coverage__ = {}; }
__cov_5nX0Iw9TbpnOeiY4msMrHw = __cov_5nX0Iw9TbpnOeiY4msMrHw.__coverage__;
if (!(__cov_5nX0Iw9TbpnOeiY4msMrHw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-drawing-view/ohp-annotation-drawing-view.js'])) {
   __cov_5nX0Iw9TbpnOeiY4msMrHw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-drawing-view/ohp-annotation-drawing-view.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-drawing-view/ohp-annotation-drawing-view.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":39},"end":{"line":2,"column":58}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":14},"end":{"line":21,"column":35}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":39},"end":{"line":26,"column":51}}},"4":{"name":"(anonymous_4)","line":36,"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":45}}},"5":{"name":"(anonymous_5)","line":54,"loc":{"start":{"line":54,"column":42},"end":{"line":54,"column":58}}},"6":{"name":"(anonymous_6)","line":56,"loc":{"start":{"line":56,"column":30},"end":{"line":56,"column":45}}},"7":{"name":"(anonymous_7)","line":62,"loc":{"start":{"line":62,"column":13},"end":{"line":62,"column":24}}},"8":{"name":"(anonymous_8)","line":76,"loc":{"start":{"line":76,"column":9},"end":{"line":76,"column":20}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":114,"column":3}},"2":{"start":{"line":19,"column":0},"end":{"line":100,"column":3}},"3":{"start":{"line":22,"column":2},"end":{"line":22,"column":46}},"4":{"start":{"line":26,"column":2},"end":{"line":51,"column":11}},"5":{"start":{"line":27,"column":3},"end":{"line":33,"column":49}},"6":{"start":{"line":36,"column":3},"end":{"line":38,"column":6}},"7":{"start":{"line":37,"column":4},"end":{"line":37,"column":32}},"8":{"start":{"line":41,"column":3},"end":{"line":50,"column":4}},"9":{"start":{"line":42,"column":4},"end":{"line":42,"column":40}},"10":{"start":{"line":43,"column":4},"end":{"line":43,"column":54}},"11":{"start":{"line":44,"column":4},"end":{"line":44,"column":52}},"12":{"start":{"line":45,"column":4},"end":{"line":45,"column":79}},"13":{"start":{"line":46,"column":4},"end":{"line":46,"column":81}},"14":{"start":{"line":47,"column":4},"end":{"line":47,"column":85}},"15":{"start":{"line":49,"column":4},"end":{"line":49,"column":50}},"16":{"start":{"line":54,"column":2},"end":{"line":59,"column":11}},"17":{"start":{"line":55,"column":3},"end":{"line":55,"column":34}},"18":{"start":{"line":56,"column":3},"end":{"line":58,"column":6}},"19":{"start":{"line":57,"column":4},"end":{"line":57,"column":32}},"20":{"start":{"line":63,"column":2},"end":{"line":64,"column":15}},"21":{"start":{"line":66,"column":2},"end":{"line":72,"column":3}},"22":{"start":{"line":67,"column":3},"end":{"line":67,"column":28}},"23":{"start":{"line":68,"column":9},"end":{"line":72,"column":3}},"24":{"start":{"line":69,"column":3},"end":{"line":69,"column":28}},"25":{"start":{"line":71,"column":3},"end":{"line":71,"column":28}},"26":{"start":{"line":73,"column":2},"end":{"line":73,"column":16}},"27":{"start":{"line":77,"column":2},"end":{"line":77,"column":46}},"28":{"start":{"line":78,"column":2},"end":{"line":78,"column":48}},"29":{"start":{"line":79,"column":2},"end":{"line":79,"column":66}},"30":{"start":{"line":80,"column":2},"end":{"line":80,"column":14}},"31":{"start":{"line":102,"column":0},"end":{"line":102,"column":56}}},"branchMap":{"1":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":3},"end":{"line":41,"column":3}},{"start":{"line":41,"column":3},"end":{"line":41,"column":3}}]},"2":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":2},"end":{"line":66,"column":2}},{"start":{"line":66,"column":2},"end":{"line":66,"column":2}}]},"3":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":9},"end":{"line":68,"column":9}},{"start":{"line":68,"column":9},"end":{"line":68,"column":9}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","YUI.add('ohp-annotation-drawing-view', function (Y, NAME) {","","\"use strict\";","/**","View of DrawingModel. Handles rendered Drawing, Selection Box and Highlighting.","","@module ohp-annotation-drawing-view","**/","","/**","View of DrawingModel. Handles rendered Drawing, Selection Box and Highlighting.","","@class DrawingView","@namespace OHP.Annotation","@constructor","@extends View","**/","var DrawingView = Y.Base.create('ohp-annotation-drawing-view', Y.View, [], {","","\tinitializer: function(/*config*/) {","\t\tvar drawingModel = this.get('drawingModel');","","\t\t// when the models selected state changes, update the shape to be the selected colour","\t\t// and drawing a box on the selection layer","\t\tdrawingModel.after('selectedChange', function(e) {","\t\t\tvar selectionLayer = this.get('selectionLayer'),","\t\t\t\tlayerWidth = selectionLayer.get('width'),","\t\t\t\tlayerHeight = selectionLayer.get('height'),","\t\t\t\tstroke = this._getStroke(),","\t\t\t\tpadding = DrawingView.SELECTED_BOX_PADDING,","\t\t\t\tmargin = DrawingView.SELECTED_BOX_MARGIN,","\t\t\t\tbounds, boxLeft, boxTop, boxWidth, boxHeight;","","\t\t\t// first update stroke","\t\t\tY.Array.each(this._shapes, function(shape){","\t\t\t\tshape.set('stroke', stroke);","\t\t\t});","","\t\t\t// then draw or remove selected box","\t\t\tif (e.newVal) {","\t\t\t\tbounds = drawingModel.get('bounds');","\t\t\t\tboxLeft = Math.max(margin, bounds.left - padding);","\t\t\t\tboxTop = Math.max(margin, bounds.top - padding);","\t\t\t\tboxWidth = Math.min(layerWidth, bounds.right + padding) - boxLeft - margin;","\t\t\t\tboxHeight = Math.min(layerHeight, bounds.bottom + padding) - boxTop - margin;","\t\t\t\tthis._selectedBox = selectionLayer.addRect(boxLeft, boxTop, boxWidth, boxHeight);","\t\t\t} else {","\t\t\t\tselectionLayer.removeShape(this._selectedBox);","\t\t\t}","\t\t}, this);","","\t\t// when the model is highlighted, update the stroke color","\t\tdrawingModel.after('highlightedChange', function(/*e*/) {","\t\t\tvar stroke = this._getStroke();","\t\t\tY.Array.each(this._shapes, function(shape){","\t\t\t\tshape.set('stroke', stroke);","\t\t\t});","\t\t}, this);","\t},","","\t_getStroke: function() {","\t\tvar drawingModel = this.get('drawingModel'),","\t\t\tstroke = {};","","\t\tif (drawingModel.get('highlighted')) {","\t\t\tstroke.color = '#63afe1';","\t\t} else if (drawingModel.get('selected')) {","\t\t\tstroke.color = '#aad3ef';","\t\t} else {","\t\t\tstroke.color = '#007bce';","\t\t}","\t\treturn stroke;","\t},","","\trender: function() {","\t\tvar drawingLayer = this.get('drawingLayer');","\t\tdrawingLayer.set('stroke', this._getStroke());","\t\tthis._shapes = this.get('drawingModel').addShapes(drawingLayer);","\t\treturn this;","\t}","","}, {","\tATTRS: {","\t\tdrawingModel: {","\t\t\twriteOnce: 'initOnly'","\t\t},","\t\tdrawingLayer: {","\t\t\twriteOnce: 'initOnly'","\t\t},","\t\t// selection layer is where the selected drawing marquee is drawn","\t\tselectionLayer: {","\t\t\twriteOnce: 'initOnly'","\t\t}","\t},","\t// Offset of select box from drawing.","\tSELECTED_BOX_PADDING: 5,","\t// Offset of select box from border of drawing area.","\tSELECTED_BOX_MARGIN: 1","});","","Y.namespace('OHP.Annotation').DrawingView = DrawingView;","","","}, '7.9.0', {","    \"requires\": [","        \"ohp-annotation-drawing-model\",","        \"yui-base\",","        \"base\",","        \"view\",","        \"ohp-annotation-layer\",","        \"event-base\"","    ]","});","","}());"]};
}
__cov_5nX0Iw9TbpnOeiY4msMrHw = __cov_5nX0Iw9TbpnOeiY4msMrHw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/ohp-annotation-drawing-view/ohp-annotation-drawing-view.js'];
__cov_5nX0Iw9TbpnOeiY4msMrHw.s['1']++;YUI.add('ohp-annotation-drawing-view',function(Y,NAME){'use strict';__cov_5nX0Iw9TbpnOeiY4msMrHw.f['1']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['2']++;var DrawingView=Y.Base.create('ohp-annotation-drawing-view',Y.View,[],{initializer:function(){__cov_5nX0Iw9TbpnOeiY4msMrHw.f['2']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['3']++;var drawingModel=this.get('drawingModel');__cov_5nX0Iw9TbpnOeiY4msMrHw.s['4']++;drawingModel.after('selectedChange',function(e){__cov_5nX0Iw9TbpnOeiY4msMrHw.f['3']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['5']++;var selectionLayer=this.get('selectionLayer'),layerWidth=selectionLayer.get('width'),layerHeight=selectionLayer.get('height'),stroke=this._getStroke(),padding=DrawingView.SELECTED_BOX_PADDING,margin=DrawingView.SELECTED_BOX_MARGIN,bounds,boxLeft,boxTop,boxWidth,boxHeight;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['6']++;Y.Array.each(this._shapes,function(shape){__cov_5nX0Iw9TbpnOeiY4msMrHw.f['4']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['7']++;shape.set('stroke',stroke);});__cov_5nX0Iw9TbpnOeiY4msMrHw.s['8']++;if(e.newVal){__cov_5nX0Iw9TbpnOeiY4msMrHw.b['1'][0]++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['9']++;bounds=drawingModel.get('bounds');__cov_5nX0Iw9TbpnOeiY4msMrHw.s['10']++;boxLeft=Math.max(margin,bounds.left-padding);__cov_5nX0Iw9TbpnOeiY4msMrHw.s['11']++;boxTop=Math.max(margin,bounds.top-padding);__cov_5nX0Iw9TbpnOeiY4msMrHw.s['12']++;boxWidth=Math.min(layerWidth,bounds.right+padding)-boxLeft-margin;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['13']++;boxHeight=Math.min(layerHeight,bounds.bottom+padding)-boxTop-margin;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['14']++;this._selectedBox=selectionLayer.addRect(boxLeft,boxTop,boxWidth,boxHeight);}else{__cov_5nX0Iw9TbpnOeiY4msMrHw.b['1'][1]++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['15']++;selectionLayer.removeShape(this._selectedBox);}},this);__cov_5nX0Iw9TbpnOeiY4msMrHw.s['16']++;drawingModel.after('highlightedChange',function(){__cov_5nX0Iw9TbpnOeiY4msMrHw.f['5']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['17']++;var stroke=this._getStroke();__cov_5nX0Iw9TbpnOeiY4msMrHw.s['18']++;Y.Array.each(this._shapes,function(shape){__cov_5nX0Iw9TbpnOeiY4msMrHw.f['6']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['19']++;shape.set('stroke',stroke);});},this);},_getStroke:function(){__cov_5nX0Iw9TbpnOeiY4msMrHw.f['7']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['20']++;var drawingModel=this.get('drawingModel'),stroke={};__cov_5nX0Iw9TbpnOeiY4msMrHw.s['21']++;if(drawingModel.get('highlighted')){__cov_5nX0Iw9TbpnOeiY4msMrHw.b['2'][0]++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['22']++;stroke.color='#63afe1';}else{__cov_5nX0Iw9TbpnOeiY4msMrHw.b['2'][1]++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['23']++;if(drawingModel.get('selected')){__cov_5nX0Iw9TbpnOeiY4msMrHw.b['3'][0]++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['24']++;stroke.color='#aad3ef';}else{__cov_5nX0Iw9TbpnOeiY4msMrHw.b['3'][1]++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['25']++;stroke.color='#007bce';}}__cov_5nX0Iw9TbpnOeiY4msMrHw.s['26']++;return stroke;},render:function(){__cov_5nX0Iw9TbpnOeiY4msMrHw.f['8']++;__cov_5nX0Iw9TbpnOeiY4msMrHw.s['27']++;var drawingLayer=this.get('drawingLayer');__cov_5nX0Iw9TbpnOeiY4msMrHw.s['28']++;drawingLayer.set('stroke',this._getStroke());__cov_5nX0Iw9TbpnOeiY4msMrHw.s['29']++;this._shapes=this.get('drawingModel').addShapes(drawingLayer);__cov_5nX0Iw9TbpnOeiY4msMrHw.s['30']++;return this;}},{ATTRS:{drawingModel:{writeOnce:'initOnly'},drawingLayer:{writeOnce:'initOnly'},selectionLayer:{writeOnce:'initOnly'}},SELECTED_BOX_PADDING:5,SELECTED_BOX_MARGIN:1});__cov_5nX0Iw9TbpnOeiY4msMrHw.s['31']++;Y.namespace('OHP.Annotation').DrawingView=DrawingView;},'7.9.0',{'requires':['ohp-annotation-drawing-model','yui-base','base','view','ohp-annotation-layer','event-base']});
