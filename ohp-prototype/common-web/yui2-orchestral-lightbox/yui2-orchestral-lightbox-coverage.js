/*
 * Copyright (c) Orchestral Developments Ltd (2001 - 2014).
 *
 * This document is copyright. Except for the purpose of fair reviewing, no part
 * of this publication may be reproduced or transmitted in any form or by any
 * means, electronic or mechanical, including photocopying, recording, or any
 * information storage and retrieval system, without permission in writing from
 * the publisher. Infringers of copyright render themselves liable for
 * prosecution.
 */

var __cov_VZtvKIyl3Y2aMPs4ZJhfxw = (Function('return this'))();
if (!__cov_VZtvKIyl3Y2aMPs4ZJhfxw.__coverage__) { __cov_VZtvKIyl3Y2aMPs4ZJhfxw.__coverage__ = {}; }
__cov_VZtvKIyl3Y2aMPs4ZJhfxw = __cov_VZtvKIyl3Y2aMPs4ZJhfxw.__coverage__;
if (!(__cov_VZtvKIyl3Y2aMPs4ZJhfxw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/yui2-orchestral-lightbox/yui2-orchestral-lightbox.js'])) {
   __cov_VZtvKIyl3Y2aMPs4ZJhfxw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/yui2-orchestral-lightbox/yui2-orchestral-lightbox.js'] = {"path":"/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/yui2-orchestral-lightbox/yui2-orchestral-lightbox.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":36},"end":{"line":2,"column":55}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":1},"end":{"line":20,"column":12}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":16},"end":{"line":35,"column":37}}},"4":{"name":"(anonymous_4)","line":84,"loc":{"start":{"line":84,"column":34},"end":{"line":84,"column":46}}},"5":{"name":"(anonymous_5)","line":105,"loc":{"start":{"line":105,"column":52},"end":{"line":105,"column":63}}},"6":{"name":"(anonymous_6)","line":116,"loc":{"start":{"line":116,"column":52},"end":{"line":116,"column":64}}},"7":{"name":"(anonymous_7)","line":132,"loc":{"start":{"line":132,"column":33},"end":{"line":132,"column":43}}},"8":{"name":"(anonymous_8)","line":136,"loc":{"start":{"line":136,"column":27},"end":{"line":136,"column":37}}},"9":{"name":"(anonymous_9)","line":150,"loc":{"start":{"line":150,"column":16},"end":{"line":150,"column":27}}},"10":{"name":"(anonymous_10)","line":172,"loc":{"start":{"line":172,"column":19},"end":{"line":172,"column":31}}},"11":{"name":"(anonymous_11)","line":178,"loc":{"start":{"line":178,"column":14},"end":{"line":178,"column":25}}},"12":{"name":"(anonymous_12)","line":195,"loc":{"start":{"line":195,"column":14},"end":{"line":195,"column":25}}},"13":{"name":"(anonymous_13)","line":199,"loc":{"start":{"line":199,"column":28},"end":{"line":199,"column":44}}},"14":{"name":"(anonymous_14)","line":205,"loc":{"start":{"line":205,"column":21},"end":{"line":205,"column":38}}},"15":{"name":"(anonymous_15)","line":228,"loc":{"start":{"line":228,"column":15},"end":{"line":228,"column":31}}},"16":{"name":"(anonymous_16)","line":231,"loc":{"start":{"line":231,"column":13},"end":{"line":231,"column":39}}},"17":{"name":"(anonymous_17)","line":234,"loc":{"start":{"line":234,"column":17},"end":{"line":234,"column":28}}},"18":{"name":"(anonymous_18)","line":241,"loc":{"start":{"line":241,"column":36},"end":{"line":241,"column":47}}},"19":{"name":"(anonymous_19)","line":251,"loc":{"start":{"line":251,"column":36},"end":{"line":251,"column":47}}},"20":{"name":"(anonymous_20)","line":260,"loc":{"start":{"line":260,"column":17},"end":{"line":260,"column":43}}},"21":{"name":"(anonymous_21)","line":270,"loc":{"start":{"line":270,"column":15},"end":{"line":270,"column":41}}},"22":{"name":"(anonymous_22)","line":278,"loc":{"start":{"line":278,"column":10},"end":{"line":278,"column":21}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":320,"column":79}},"2":{"start":{"line":4,"column":0},"end":{"line":5,"column":31}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}},"4":{"start":{"line":20,"column":0},"end":{"line":315,"column":5}},"5":{"start":{"line":21,"column":1},"end":{"line":23,"column":20}},"6":{"start":{"line":35,"column":1},"end":{"line":143,"column":3}},"7":{"start":{"line":36,"column":2},"end":{"line":39,"column":3}},"8":{"start":{"line":37,"column":3},"end":{"line":37,"column":66}},"9":{"start":{"line":38,"column":3},"end":{"line":38,"column":10}},"10":{"start":{"line":41,"column":2},"end":{"line":41,"column":28}},"11":{"start":{"line":42,"column":2},"end":{"line":42,"column":29}},"12":{"start":{"line":43,"column":2},"end":{"line":43,"column":28}},"13":{"start":{"line":45,"column":2},"end":{"line":45,"column":39}},"14":{"start":{"line":49,"column":2},"end":{"line":60,"column":19}},"15":{"start":{"line":62,"column":2},"end":{"line":62,"column":57}},"16":{"start":{"line":64,"column":2},"end":{"line":64,"column":24}},"17":{"start":{"line":66,"column":2},"end":{"line":68,"column":3}},"18":{"start":{"line":67,"column":3},"end":{"line":67,"column":58}},"19":{"start":{"line":75,"column":2},"end":{"line":75,"column":85}},"20":{"start":{"line":77,"column":2},"end":{"line":80,"column":3}},"21":{"start":{"line":79,"column":3},"end":{"line":79,"column":48}},"22":{"start":{"line":83,"column":2},"end":{"line":88,"column":3}},"23":{"start":{"line":84,"column":3},"end":{"line":87,"column":6}},"24":{"start":{"line":85,"column":4},"end":{"line":85,"column":46}},"25":{"start":{"line":86,"column":4},"end":{"line":86,"column":18}},"26":{"start":{"line":90,"column":2},"end":{"line":90,"column":44}},"27":{"start":{"line":92,"column":2},"end":{"line":94,"column":3}},"28":{"start":{"line":93,"column":3},"end":{"line":93,"column":53}},"29":{"start":{"line":96,"column":2},"end":{"line":96,"column":16}},"30":{"start":{"line":97,"column":2},"end":{"line":97,"column":16}},"31":{"start":{"line":99,"column":2},"end":{"line":130,"column":3}},"32":{"start":{"line":105,"column":3},"end":{"line":109,"column":18}},"33":{"start":{"line":108,"column":4},"end":{"line":108,"column":18}},"34":{"start":{"line":116,"column":3},"end":{"line":125,"column":18}},"35":{"start":{"line":117,"column":4},"end":{"line":123,"column":5}},"36":{"start":{"line":122,"column":5},"end":{"line":122,"column":12}},"37":{"start":{"line":124,"column":4},"end":{"line":124,"column":18}},"38":{"start":{"line":129,"column":3},"end":{"line":129,"column":77}},"39":{"start":{"line":132,"column":2},"end":{"line":134,"column":5}},"40":{"start":{"line":133,"column":3},"end":{"line":133,"column":56}},"41":{"start":{"line":136,"column":2},"end":{"line":139,"column":5}},"42":{"start":{"line":137,"column":3},"end":{"line":137,"column":45}},"43":{"start":{"line":138,"column":3},"end":{"line":138,"column":17}},"44":{"start":{"line":144,"column":1},"end":{"line":312,"column":4}},"45":{"start":{"line":151,"column":3},"end":{"line":151,"column":59}},"46":{"start":{"line":153,"column":3},"end":{"line":160,"column":4}},"47":{"start":{"line":154,"column":4},"end":{"line":159,"column":5}},"48":{"start":{"line":155,"column":5},"end":{"line":155,"column":12}},"49":{"start":{"line":157,"column":5},"end":{"line":157,"column":35}},"50":{"start":{"line":158,"column":5},"end":{"line":158,"column":22}},"51":{"start":{"line":162,"column":3},"end":{"line":165,"column":4}},"52":{"start":{"line":163,"column":4},"end":{"line":163,"column":21}},"53":{"start":{"line":164,"column":4},"end":{"line":164,"column":62}},"54":{"start":{"line":173,"column":3},"end":{"line":175,"column":4}},"55":{"start":{"line":174,"column":4},"end":{"line":174,"column":54}},"56":{"start":{"line":181,"column":3},"end":{"line":181,"column":55}},"57":{"start":{"line":184,"column":3},"end":{"line":184,"column":57}},"58":{"start":{"line":188,"column":3},"end":{"line":191,"column":4}},"59":{"start":{"line":190,"column":4},"end":{"line":190,"column":38}},"60":{"start":{"line":196,"column":3},"end":{"line":196,"column":57}},"61":{"start":{"line":199,"column":3},"end":{"line":202,"column":6}},"62":{"start":{"line":200,"column":4},"end":{"line":200,"column":54}},"63":{"start":{"line":201,"column":4},"end":{"line":201,"column":55}},"64":{"start":{"line":206,"column":3},"end":{"line":206,"column":60}},"65":{"start":{"line":214,"column":3},"end":{"line":218,"column":6}},"66":{"start":{"line":226,"column":3},"end":{"line":257,"column":6}},"67":{"start":{"line":229,"column":5},"end":{"line":229,"column":36}},"68":{"start":{"line":232,"column":5},"end":{"line":239,"column":8}},"69":{"start":{"line":236,"column":7},"end":{"line":236,"column":79}},"70":{"start":{"line":237,"column":7},"end":{"line":237,"column":78}},"71":{"start":{"line":238,"column":7},"end":{"line":238,"column":118}},"72":{"start":{"line":241,"column":5},"end":{"line":249,"column":8}},"73":{"start":{"line":242,"column":6},"end":{"line":242,"column":48}},"74":{"start":{"line":243,"column":6},"end":{"line":243,"column":82}},"75":{"start":{"line":247,"column":6},"end":{"line":247,"column":77}},"76":{"start":{"line":248,"column":6},"end":{"line":248,"column":58}},"77":{"start":{"line":250,"column":5},"end":{"line":250,"column":40}},"78":{"start":{"line":251,"column":5},"end":{"line":255,"column":8}},"79":{"start":{"line":252,"column":6},"end":{"line":252,"column":67}},"80":{"start":{"line":253,"column":6},"end":{"line":253,"column":21}},"81":{"start":{"line":254,"column":6},"end":{"line":254,"column":47}},"82":{"start":{"line":262,"column":3},"end":{"line":263,"column":6}},"83":{"start":{"line":264,"column":3},"end":{"line":266,"column":4}},"84":{"start":{"line":265,"column":4},"end":{"line":265,"column":64}},"85":{"start":{"line":267,"column":3},"end":{"line":267,"column":60}},"86":{"start":{"line":271,"column":3},"end":{"line":272,"column":20}},"87":{"start":{"line":274,"column":3},"end":{"line":274,"column":40}},"88":{"start":{"line":275,"column":3},"end":{"line":275,"column":58}},"89":{"start":{"line":279,"column":3},"end":{"line":280,"column":46}},"90":{"start":{"line":282,"column":3},"end":{"line":282,"column":47}},"91":{"start":{"line":283,"column":3},"end":{"line":283,"column":49}},"92":{"start":{"line":285,"column":3},"end":{"line":292,"column":4}},"93":{"start":{"line":288,"column":4},"end":{"line":288,"column":67}},"94":{"start":{"line":289,"column":4},"end":{"line":291,"column":5}},"95":{"start":{"line":290,"column":5},"end":{"line":290,"column":19}},"96":{"start":{"line":293,"column":3},"end":{"line":306,"column":4}},"97":{"start":{"line":298,"column":4},"end":{"line":298,"column":145}},"98":{"start":{"line":301,"column":4},"end":{"line":301,"column":92}},"99":{"start":{"line":302,"column":4},"end":{"line":302,"column":92}},"100":{"start":{"line":303,"column":4},"end":{"line":305,"column":5}},"101":{"start":{"line":304,"column":5},"end":{"line":304,"column":19}},"102":{"start":{"line":307,"column":3},"end":{"line":307,"column":19}},"103":{"start":{"line":308,"column":3},"end":{"line":310,"column":4}},"104":{"start":{"line":309,"column":4},"end":{"line":309,"column":24}},"105":{"start":{"line":314,"column":1},"end":{"line":314,"column":39}},"106":{"start":{"line":317,"column":0},"end":{"line":317,"column":96}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":2}},{"start":{"line":36,"column":2},"end":{"line":36,"column":2}}]},"2":{"line":55,"type":"cond-expr","locations":[{"start":{"line":55,"column":38},"end":{"line":55,"column":43}},{"start":{"line":55,"column":46},"end":{"line":55,"column":57}}]},"3":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":5},"end":{"line":60,"column":11}},{"start":{"line":60,"column":15},"end":{"line":60,"column":17}}]},"4":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":11},"end":{"line":64,"column":17}},{"start":{"line":64,"column":21},"end":{"line":64,"column":23}}]},"5":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":2},"end":{"line":66,"column":2}},{"start":{"line":66,"column":2},"end":{"line":66,"column":2}}]},"6":{"line":75,"type":"cond-expr","locations":[{"start":{"line":75,"column":28},"end":{"line":75,"column":38}},{"start":{"line":75,"column":41},"end":{"line":75,"column":54}}]},"7":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]},"8":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":83,"column":2}},{"start":{"line":83,"column":2},"end":{"line":83,"column":2}}]},"9":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":6},"end":{"line":83,"column":47}},{"start":{"line":83,"column":51},"end":{"line":83,"column":92}},{"start":{"line":83,"column":96},"end":{"line":83,"column":137}}]},"10":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":2},"end":{"line":92,"column":2}},{"start":{"line":92,"column":2},"end":{"line":92,"column":2}}]},"11":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":2},"end":{"line":99,"column":2}},{"start":{"line":99,"column":2},"end":{"line":99,"column":2}}]},"12":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"13":{"line":117,"type":"binary-expr","locations":[{"start":{"line":117,"column":8},"end":{"line":117,"column":53}},{"start":{"line":117,"column":57},"end":{"line":117,"column":104}}]},"14":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":3},"end":{"line":153,"column":3}},{"start":{"line":153,"column":3},"end":{"line":153,"column":3}}]},"15":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":4},"end":{"line":154,"column":4}},{"start":{"line":154,"column":4},"end":{"line":154,"column":4}}]},"16":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":8},"end":{"line":154,"column":25}},{"start":{"line":154,"column":29},"end":{"line":154,"column":68}}]},"17":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":3},"end":{"line":162,"column":3}},{"start":{"line":162,"column":3},"end":{"line":162,"column":3}}]},"18":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":3},"end":{"line":173,"column":3}},{"start":{"line":173,"column":3},"end":{"line":173,"column":3}}]},"19":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":3},"end":{"line":188,"column":3}},{"start":{"line":188,"column":3},"end":{"line":188,"column":3}}]},"20":{"line":188,"type":"binary-expr","locations":[{"start":{"line":188,"column":6},"end":{"line":188,"column":37}},{"start":{"line":188,"column":41},"end":{"line":188,"column":77}}]},"21":{"line":264,"type":"binary-expr","locations":[{"start":{"line":264,"column":15},"end":{"line":264,"column":36}},{"start":{"line":264,"column":40},"end":{"line":264,"column":58}}]},"22":{"line":265,"type":"cond-expr","locations":[{"start":{"line":265,"column":45},"end":{"line":265,"column":54}},{"start":{"line":265,"column":57},"end":{"line":265,"column":63}}]},"23":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":3},"end":{"line":285,"column":3}},{"start":{"line":285,"column":3},"end":{"line":285,"column":3}}]},"24":{"line":289,"type":"if","locations":[{"start":{"line":289,"column":4},"end":{"line":289,"column":4}},{"start":{"line":289,"column":4},"end":{"line":289,"column":4}}]},"25":{"line":289,"type":"binary-expr","locations":[{"start":{"line":289,"column":8},"end":{"line":289,"column":15}},{"start":{"line":289,"column":19},"end":{"line":289,"column":40}}]},"26":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":3},"end":{"line":293,"column":3}},{"start":{"line":293,"column":3},"end":{"line":293,"column":3}}]},"27":{"line":293,"type":"binary-expr","locations":[{"start":{"line":293,"column":7},"end":{"line":293,"column":21}},{"start":{"line":293,"column":25},"end":{"line":293,"column":81}}]},"28":{"line":303,"type":"if","locations":[{"start":{"line":303,"column":4},"end":{"line":303,"column":4}},{"start":{"line":303,"column":4},"end":{"line":303,"column":4}}]},"29":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":8},"end":{"line":303,"column":15}},{"start":{"line":303,"column":19},"end":{"line":303,"column":40}}]},"30":{"line":308,"type":"if","locations":[{"start":{"line":308,"column":3},"end":{"line":308,"column":3}},{"start":{"line":308,"column":3},"end":{"line":308,"column":3}}]}},"code":["(function () { /*!(C) ORCHESTRAL*/","YUI.add('yui2-orchestral-lightbox', function (Y, NAME) {","","var YAHOO = Y.YUI2,","\tORCHESTRAL = YAHOO.ORCHESTRAL;","/*!(C) ORCHESTRAL*/","","/*global YAHOO, ORCHESTRAL, window */","","YAHOO.namespace('ORCHESTRAL.widget');","","/**"," * A widget for displaying a lightbox."," *"," * @module orchestral-lightbox"," * @requires yahoo, orchestral, container"," * @namespace ORCHESTRAL.widget"," * @title Lightbox"," */","(function() {","\tvar Event = YAHOO.util.Event,","\t\tDom = YAHOO.util.Dom,","\t\tlang = YAHOO.lang;","","\t/**","\t * A widget for displaying a lightbox.","\t *","\t * @class Lightbox","\t * @namespace ORCHESTRAL.widget","\t * @extends YAHOO.widget.Dialog","\t * @constructor","\t * @param el {String | HTMLElement} The element or ID of the element containing the lightbox content.","\t * @param config {object} (optional) Object literal of configuration values.","\t */","\tvar Lightbox = function(el, config) {","\t\tif (!Dom.get(el)) {","\t\t\tYAHOO.log('No element passed to Lightbox constructor', 'warn');","\t\t\treturn;","\t\t}","","\t\tthis.viewportWidth = null;","\t\tthis.viewportHeight = null;","\t\tthis.initialZIndex = null;","","\t\tDom.setStyle(el, 'display', 'block');","","\t\t// Merges the default config with the passed config.","\t\t// The properties of later objects will overrite those in earlier objects.","\t\tconfig = lang.merge({","\t\t\tautofillheight: 'body',","\t\t\tdraggable: false,","\t\t\t// Fixed centering causes \"maximum call stack size exceeded\" errors on Safari Mobile on iPad.","\t\t\t// The call to resize() below centers the lightbox and as the window can't resize it does not need to be fixed to center.","\t\t\t// 'contained' means it won't center if there isn't enough space, allowing the user to scroll the viewport to see everything","\t\t\tfixedcenter: YAHOO.env.ua.mobile ? false : 'contained',","\t\t\tnaturalwidth: Dom.hasClass(el, 'natural-content-width'),","\t\t\tmodal: true,","\t\t\tunderlay: 'shadow',","\t\t\tvisible: false","\t\t}, config || {});","","\t\tLightbox.superclass.constructor.call(this, el, config);","","\t\tconfig = config || {};","","\t\tif (config.sidebar) {","\t\t\tDom.addClass(this.element, 'lightbox-sidebar-enabled');","\t\t}","","\t\t/**","\t\t * Whether the lightbox should size to content, rather than min-width applying. Write once.","\t\t * @config naturalwidth","\t\t * @type Boolean","\t\t */","\t\tDom[config.naturalwidth ? 'addClass' : 'removeClass'](el, 'natural-content-width');","","\t\tif (config.width) {","\t\t\t// Explicit width is configured.","\t\t\tDom.removeClass(el, 'natural-content-width');","\t\t}","","\t\t// Firefox 4.x identifies itself as gecko 2.x (e.g. FF 4.0.1 is gecko 2.01) - see http://developer.yahoo.com/yui/docs/YAHOO.env.ua.html#property_gecko","\t\tif (Math.floor(ORCHESTRAL.env.ua.gecko) === 2 || Math.floor(ORCHESTRAL.env.ua.gecko) === 5 || Math.floor(ORCHESTRAL.env.ua.gecko) === 6) {","\t\t\tthis.changeBodyEvent.subscribe(function(e) {","\t\t\t\tDom.setStyle(this.body, 'height', 'auto');","\t\t\t\tthis.resize();","\t\t\t});","\t\t}","","\t\tDom.setStyle(this.body, 'height', 'auto');","","\t\tif (!config.visible) {","\t\t\tDom.addClass(this.element, 'cow-lightbox-hidden');","\t\t}","","\t\tthis.render();","\t\tthis.resize();","","\t\tif (YAHOO.env.ua.mobile) {","\t\t\t// For iPad, the lightbox only needs to be repositioned on initial render and orientation change.","\t\t\t// So it is simply always posiitoned in the center of the full screen (not counting zoom).","\t\t\t// It is not necessary to reposition when scrolled, zoomed or on show, because the user should be","\t\t\t// able to scroll around/zoom etc without the lightbox moving around.","","\t\t\tYAHOO.util.Event.on(window, 'orientationchange', function(e){","\t\t\t\t// Resize should be called when window changes orientation (portrait/landscape)","\t\t\t\t// as height changes in this context.","\t\t\t\tthis.resize();","\t\t\t}, this, true);","","\t\t} else {","","\t\t\t// Calling resize() appears to trigger a resize event on Safari Mobile on iPad,","\t\t\t// which causes a recursive loop ending in a \"maximum call stack size exceeded\" error.","\t\t\t// Resize events are only necessary for window size changing, which does not occur on iPad.","\t\t\tYAHOO.widget.Overlay.windowResizeEvent.subscribe(function () {","\t\t\t\tif (this.viewportWidth === Dom.getViewportWidth() && this.viewportHeight === Dom.getViewportHeight()) {","\t\t\t\t\t// IE8 triggers a window resize event when scrollbars appear/disappear. In this situation","\t\t\t\t\t// it causes the resize method to be continually be called and it screws up scrolling in","\t\t\t\t\t// overflowing lightboxes. We fix this by only resizing when we see the browser viewport","\t\t\t\t\t// dimensions change.","\t\t\t\t\treturn;","\t\t\t\t}","\t\t\t\tthis.resize();","\t\t\t}, null, this);","","\t\t\t// For the case of lightbox height increasing below end of the window (rather than just the case of window resizing).","\t\t\t// Otherwise due to absolute positioning of lightbox to top, could never scroll down to see the bottom of the lightbox.","\t\t\tYAHOO.widget.Overlay.windowScrollEvent.subscribe(this.resize, null, this);","\t\t}","","\t\tthis.beforeShowEvent.subscribe(function(){","\t\t\tDom.removeClass(this.element, 'cow-lightbox-hidden');","\t\t});","","\t\tthis.showEvent.subscribe(function(){","\t\t\tDom.setStyle(this.body, 'height', 'auto');","\t\t\tthis.resize();","\t\t});","","\t\t// TODO: when height has been explicitly set (i.e. no longer auto) - when form in lightbox decreases in height again,","\t\t// the lightbox does not resize smaller.","\t};","\tlang.extend(Lightbox, YAHOO.widget.Dialog, {","","\t\t// Overriding the Dialog method.","\t\t// If no form element is present, don't add a form element.","\t\t// (original method creates and appends a form element if one is","\t\t// not present causing validation errors and being unnecessary).","\t\tregisterForm: function() {","\t\t\tvar form = this.element.getElementsByTagName('form')[0];","","\t\t\tif (this.form) {","\t\t\t\tif (this.form == form && Dom.isAncestor(this.element, this.form)) {","\t\t\t\t\treturn;","\t\t\t\t} else {","\t\t\t\t\tEvent.purgeElement(this.form);","\t\t\t\t\tthis.form = null;","\t\t\t\t}","\t\t\t}","","\t\t\tif (form) {","\t\t\t\tthis.form = form;","\t\t\t\tEvent.on(form, 'submit', this._submitHandler, this, true);","\t\t\t}","\t\t},","","\t\t// _onElementFocus forces all elements not in a modal lightbox to blur if focussed.","\t\t// If an Orchestral date time widget is used in a lightbox then elements within it would","\t\t// lose focus when clicked because the calendar container is not a descendant of the lightbox.","\t\t// We override the focus handling for the lightbox to prevent this undesirable behaviour.","\t\t_onElementFocus: function(e) {","\t\t\tif (!Dom.isAncestor('OrchestralCalendar', YAHOO.util.Event.getTarget(e))) {","\t\t\t\tLightbox.superclass._onElementFocus.call(this, e);","\t\t\t}","\t\t},","","\t\tbringToTop: function() {","\t\t\t// save initial z-index so that we care reset it after hiding it","\t\t\t// this prevents the zindex endless growing till it ends up accidentally on top of other specific z index layers","\t\t\tthis.initialZIndex = this.cfg.getProperty('zindex');","","\t\t\t// Note: If there is only one Lightbox(Overlay) on the page, bringToTop doesn't bump its z-index.","\t\t\tLightbox.superclass.bringToTop.apply(this, arguments);","","\t\t\t// Because of a specific fix for iOS7 (COW-3216), we set z-index as \"-1\" to prevent the visibility:hidden","\t\t\t// lightboxes from consuming user input (e.g. taps).","\t\t\tif(YAHOO.env.ua.mobile === 'Apple' && this.cfg.getProperty('zindex') == -1) {","\t\t\t\t// Set z-index as 2 because the mask's z-index is set 1 less than the lightbox panel.","\t\t\t\tthis.cfg.setProperty('zindex', 2);","\t\t\t}","\t\t},","","\t\t// override to init an additional event","\t\tinitEvents: function() {","\t\t\tLightbox.superclass.initEvents.apply(this, arguments);","","\t\t\t// reset the z-index back to what it was, as described above","\t\t\tthis.hideEvent.subscribe(function(event) {","\t\t\t\tDom.addClass(this.element, 'cow-lightbox-hidden');","\t\t\t\tthis.cfg.setProperty('zindex', this.initialZIndex);","\t\t\t});","\t\t},","","\t\tinitDefaultConfig: function(config) {","\t\t\tLightbox.superclass.initDefaultConfig.call(this, config);","","\t\t\t/**","\t\t\t * Whether the lightbox's body should fill the available page height.","\t\t\t * @config fillPageHeight","\t\t\t * @type Boolean","\t\t\t * @default false","\t\t\t */","\t\t\tthis.cfg.addProperty('fillPageHeight', {","\t\t\t\tvalue: false,","\t\t\t\tvalidator: lang.isBoolean,","\t\t\t\thandler: this.resize","\t\t\t});","","\t\t\t/**","\t\t\t * The element containing the content to display in a sidebar on the lightbox. The","\t\t\t * width of the sidebar will be determined from the width of this element. Write once.","\t\t\t * @config sidebar","\t\t\t * @type String | Element","\t\t\t */","\t\t\tthis.cfg.addProperty('sidebar', {","\t\t\t\twriteOnce: true,","\t\t\t\tvalidator: function(value) {","\t\t\t\t\treturn Dom.get(value) !== null;","\t\t\t\t},","\t\t\t\thandler: function(type, args, obj) {","\t\t\t\t\tvar sidebar = Dom.get(args[0]),","\t\t\t\t\t\ttimer = null,","\t\t\t\t\t\tposition = function() {","\t\t\t\t\t\t\t// Set the sidebar z-index so it doesn't appear under the lightbox mask or underlay shadow.","\t\t\t\t\t\t\tDom.setStyle(sidebar, 'z-index', Dom.getStyle(this.element, 'z-index'));","\t\t\t\t\t\t\tDom.setStyle(sidebar, 'height', this.innerElement.offsetHeight + 'px');","\t\t\t\t\t\t\tDom.setXY(sidebar, [Dom.getX(this.innerElement) + this.innerElement.offsetWidth, Dom.getY(this.innerElement)]);","\t\t\t\t\t\t};","","\t\t\t\t\tthis.beforeShowEvent.subscribe(function() {","\t\t\t\t\t\tDom.setStyle(sidebar, 'display', 'block');","\t\t\t\t\t\tDom.setStyle(this.innerElement, 'margin-right', sidebar.offsetWidth + 'px');","\t\t\t\t\t\t// Reposition the sidebar whenever the window or the content of the lightbox changes. The timer alone would","\t\t\t\t\t\t// be sufficient triggering on window resizes makes the updating more responsive when the browser window","\t\t\t\t\t\t// is resized.","\t\t\t\t\t\tYAHOO.widget.Overlay.windowResizeEvent.subscribe(position, null, this);","\t\t\t\t\t\ttimer = lang.later(250, this, position, null, true);","\t\t\t\t\t});","\t\t\t\t\tthis.showEvent.subscribe(position);","\t\t\t\t\tthis.beforeHideEvent.subscribe(function() {","\t\t\t\t\t\tYAHOO.widget.Overlay.windowResizeEvent.unsubscribe(position);","\t\t\t\t\t\ttimer.cancel();","\t\t\t\t\t\tDom.setStyle(sidebar, 'display', 'none');","\t\t\t\t\t});","\t\t\t\t}","\t\t\t});","\t\t},","","\t\tconfigButtons: function(type, args, obj) {","\t\t\t// args[0] will be a string if no buttons have been configured.","\t\t\tvar buttons = args[0],","\t\t\t\ti;","\t\t\tfor (i = 0; lang.isArray(buttons) && i < buttons.length; i++) {","\t\t\t\tbuttons[i].type = buttons[i].isDefault ? 'primary' : 'link';","\t\t\t}","\t\t\tLightbox.superclass.configButtons.apply(this, arguments);","\t\t},","","\t\tconfigWidth: function(type, args, obj) {","\t\t\tvar el = this.innerElement,","\t\t\t\twidth = args[0];","\t\t\t// When width cfg set, remove the min-width so specified width is invoked.","\t\t\tDom.setStyle(el, 'min-width', width);","\t\t\tLightbox.superclass.configWidth.apply(this, arguments);","\t\t},","","\t\tresize: function() {","\t\t\tvar fillPageHeight = this.cfg.getProperty('fillPageHeight'),","\t\t\t\tvisible = this.cfg.getProperty('visible');","","\t\t\tthis.viewportWidth = Dom.getViewportWidth();","\t\t\tthis.viewportHeight = Dom.getViewportHeight();","","\t\t\tif (!fillPageHeight) {","\t\t\t\t// The window may have increased in size so we restore the lightbox to its natural height","\t\t\t\t// as it may be able to consume more vertical real estate.","\t\t\t\tDom.setStyle([this.innerElement, this.body], 'height', 'auto');","\t\t\t\tif (visible && this.fitsInViewport()) {","\t\t\t\t\tthis.center();","\t\t\t\t}","\t\t\t}","\t\t\tif (fillPageHeight || this.element.offsetHeight > Dom.getViewportHeight() - 30) {","\t\t\t\t// We test if the lightbox is going to be too high to fit in the window by comparing the viewport height to the height of the lightbox","\t\t\t\t// wrapper element (this.element). Because the height configuration attribute of the lightbox gets applied to the child of the wrapper","\t\t\t\t// element we need to take the child's padding into account when setting it otherwise we will end up with a vertical scrollbar on the","\t\t\t\t// entire page when the lightbox gets restricted to the page height.","\t\t\t\tvar verticalPadding = parseInt(Dom.getStyle(this.innerElement, 'padding-top')) + parseInt(Dom.getStyle(this.innerElement, 'padding-bottom'));","\t\t\t\t// We set the height twice because the viewport height can change after the first set (horizontal scrollbars","\t\t\t\t// may have disappeared, changing the viewport height).","\t\t\t\tthis.cfg.setProperty('height', (Dom.getViewportHeight() - 30 - verticalPadding) + 'px');","\t\t\t\tthis.cfg.setProperty('height', (Dom.getViewportHeight() - 30 - verticalPadding) + 'px');","\t\t\t\tif (visible && this.fitsInViewport()) {","\t\t\t\t\tthis.center();","\t\t\t\t}","\t\t\t}","\t\t\tthis.sizeMask(); // we could have changed the lightbox height, so update the mask","\t\t\tif (YAHOO.env.ua.ie === 6) {","\t\t\t\tthis.sizeUnderlay();","\t\t\t}","\t\t}","\t});","","\tORCHESTRAL.widget.Lightbox = Lightbox;","}());","","YAHOO.register('orchestral-lightbox', ORCHESTRAL.widget.Lightbox, {version: '7.9', build: '0'});","","","}, '7.9.0', {\"requires\": [\"yui2-yahoo\", \"yui2-orchestral\", \"yui2-container\"]});","","}());"]};
}
__cov_VZtvKIyl3Y2aMPs4ZJhfxw = __cov_VZtvKIyl3Y2aMPs4ZJhfxw['/build/work/UIE-COW-JOB1/Common-Web/com.orchestral.commonweb/web/yui2-orchestral-lightbox/yui2-orchestral-lightbox.js'];
__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['1']++;YUI.add('yui2-orchestral-lightbox',function(Y,NAME){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['1']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['2']++;var YAHOO=Y.YUI2,ORCHESTRAL=YAHOO.ORCHESTRAL;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['3']++;YAHOO.namespace('ORCHESTRAL.widget');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['4']++;(function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['2']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['5']++;var Event=YAHOO.util.Event,Dom=YAHOO.util.Dom,lang=YAHOO.lang;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['6']++;var Lightbox=function(el,config){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['3']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['7']++;if(!Dom.get(el)){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['1'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['8']++;YAHOO.log('No element passed to Lightbox constructor','warn');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['9']++;return;}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['1'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['10']++;this.viewportWidth=null;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['11']++;this.viewportHeight=null;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['12']++;this.initialZIndex=null;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['13']++;Dom.setStyle(el,'display','block');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['14']++;config=lang.merge({autofillheight:'body',draggable:false,fixedcenter:YAHOO.env.ua.mobile?(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['2'][0]++,false):(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['2'][1]++,'contained'),naturalwidth:Dom.hasClass(el,'natural-content-width'),modal:true,underlay:'shadow',visible:false},(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['3'][0]++,config)||(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['3'][1]++,{}));__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['15']++;Lightbox.superclass.constructor.call(this,el,config);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['16']++;config=(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['4'][0]++,config)||(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['4'][1]++,{});__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['17']++;if(config.sidebar){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['5'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['18']++;Dom.addClass(this.element,'lightbox-sidebar-enabled');}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['5'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['19']++;Dom[config.naturalwidth?(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['6'][0]++,'addClass'):(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['6'][1]++,'removeClass')](el,'natural-content-width');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['20']++;if(config.width){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['7'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['21']++;Dom.removeClass(el,'natural-content-width');}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['7'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['22']++;if((__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['9'][0]++,Math.floor(ORCHESTRAL.env.ua.gecko)===2)||(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['9'][1]++,Math.floor(ORCHESTRAL.env.ua.gecko)===5)||(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['9'][2]++,Math.floor(ORCHESTRAL.env.ua.gecko)===6)){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['8'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['23']++;this.changeBodyEvent.subscribe(function(e){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['4']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['24']++;Dom.setStyle(this.body,'height','auto');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['25']++;this.resize();});}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['8'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['26']++;Dom.setStyle(this.body,'height','auto');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['27']++;if(!config.visible){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['10'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['28']++;Dom.addClass(this.element,'cow-lightbox-hidden');}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['10'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['29']++;this.render();__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['30']++;this.resize();__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['31']++;if(YAHOO.env.ua.mobile){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['11'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['32']++;YAHOO.util.Event.on(window,'orientationchange',function(e){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['5']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['33']++;this.resize();},this,true);}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['11'][1]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['34']++;YAHOO.widget.Overlay.windowResizeEvent.subscribe(function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['6']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['35']++;if((__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['13'][0]++,this.viewportWidth===Dom.getViewportWidth())&&(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['13'][1]++,this.viewportHeight===Dom.getViewportHeight())){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['12'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['36']++;return;}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['12'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['37']++;this.resize();},null,this);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['38']++;YAHOO.widget.Overlay.windowScrollEvent.subscribe(this.resize,null,this);}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['39']++;this.beforeShowEvent.subscribe(function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['7']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['40']++;Dom.removeClass(this.element,'cow-lightbox-hidden');});__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['41']++;this.showEvent.subscribe(function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['8']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['42']++;Dom.setStyle(this.body,'height','auto');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['43']++;this.resize();});};__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['44']++;lang.extend(Lightbox,YAHOO.widget.Dialog,{registerForm:function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['9']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['45']++;var form=this.element.getElementsByTagName('form')[0];__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['46']++;if(this.form){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['14'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['47']++;if((__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['16'][0]++,this.form==form)&&(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['16'][1]++,Dom.isAncestor(this.element,this.form))){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['15'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['48']++;return;}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['15'][1]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['49']++;Event.purgeElement(this.form);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['50']++;this.form=null;}}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['14'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['51']++;if(form){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['17'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['52']++;this.form=form;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['53']++;Event.on(form,'submit',this._submitHandler,this,true);}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['17'][1]++;}},_onElementFocus:function(e){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['10']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['54']++;if(!Dom.isAncestor('OrchestralCalendar',YAHOO.util.Event.getTarget(e))){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['18'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['55']++;Lightbox.superclass._onElementFocus.call(this,e);}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['18'][1]++;}},bringToTop:function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['11']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['56']++;this.initialZIndex=this.cfg.getProperty('zindex');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['57']++;Lightbox.superclass.bringToTop.apply(this,arguments);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['58']++;if((__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['20'][0]++,YAHOO.env.ua.mobile==='Apple')&&(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['20'][1]++,this.cfg.getProperty('zindex')==-1)){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['19'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['59']++;this.cfg.setProperty('zindex',2);}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['19'][1]++;}},initEvents:function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['12']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['60']++;Lightbox.superclass.initEvents.apply(this,arguments);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['61']++;this.hideEvent.subscribe(function(event){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['13']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['62']++;Dom.addClass(this.element,'cow-lightbox-hidden');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['63']++;this.cfg.setProperty('zindex',this.initialZIndex);});},initDefaultConfig:function(config){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['14']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['64']++;Lightbox.superclass.initDefaultConfig.call(this,config);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['65']++;this.cfg.addProperty('fillPageHeight',{value:false,validator:lang.isBoolean,handler:this.resize});__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['66']++;this.cfg.addProperty('sidebar',{writeOnce:true,validator:function(value){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['15']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['67']++;return Dom.get(value)!==null;},handler:function(type,args,obj){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['16']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['68']++;var sidebar=Dom.get(args[0]),timer=null,position=function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['17']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['69']++;Dom.setStyle(sidebar,'z-index',Dom.getStyle(this.element,'z-index'));__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['70']++;Dom.setStyle(sidebar,'height',this.innerElement.offsetHeight+'px');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['71']++;Dom.setXY(sidebar,[Dom.getX(this.innerElement)+this.innerElement.offsetWidth,Dom.getY(this.innerElement)]);};__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['72']++;this.beforeShowEvent.subscribe(function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['18']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['73']++;Dom.setStyle(sidebar,'display','block');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['74']++;Dom.setStyle(this.innerElement,'margin-right',sidebar.offsetWidth+'px');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['75']++;YAHOO.widget.Overlay.windowResizeEvent.subscribe(position,null,this);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['76']++;timer=lang.later(250,this,position,null,true);});__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['77']++;this.showEvent.subscribe(position);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['78']++;this.beforeHideEvent.subscribe(function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['19']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['79']++;YAHOO.widget.Overlay.windowResizeEvent.unsubscribe(position);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['80']++;timer.cancel();__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['81']++;Dom.setStyle(sidebar,'display','none');});}});},configButtons:function(type,args,obj){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['20']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['82']++;var buttons=args[0],i;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['83']++;for(i=0;(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['21'][0]++,lang.isArray(buttons))&&(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['21'][1]++,i<buttons.length);i++){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['84']++;buttons[i].type=buttons[i].isDefault?(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['22'][0]++,'primary'):(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['22'][1]++,'link');}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['85']++;Lightbox.superclass.configButtons.apply(this,arguments);},configWidth:function(type,args,obj){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['21']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['86']++;var el=this.innerElement,width=args[0];__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['87']++;Dom.setStyle(el,'min-width',width);__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['88']++;Lightbox.superclass.configWidth.apply(this,arguments);},resize:function(){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.f['22']++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['89']++;var fillPageHeight=this.cfg.getProperty('fillPageHeight'),visible=this.cfg.getProperty('visible');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['90']++;this.viewportWidth=Dom.getViewportWidth();__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['91']++;this.viewportHeight=Dom.getViewportHeight();__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['92']++;if(!fillPageHeight){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['23'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['93']++;Dom.setStyle([this.innerElement,this.body],'height','auto');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['94']++;if((__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['25'][0]++,visible)&&(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['25'][1]++,this.fitsInViewport())){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['24'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['95']++;this.center();}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['24'][1]++;}}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['23'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['96']++;if((__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['27'][0]++,fillPageHeight)||(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['27'][1]++,this.element.offsetHeight>Dom.getViewportHeight()-30)){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['26'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['97']++;var verticalPadding=parseInt(Dom.getStyle(this.innerElement,'padding-top'))+parseInt(Dom.getStyle(this.innerElement,'padding-bottom'));__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['98']++;this.cfg.setProperty('height',Dom.getViewportHeight()-30-verticalPadding+'px');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['99']++;this.cfg.setProperty('height',Dom.getViewportHeight()-30-verticalPadding+'px');__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['100']++;if((__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['29'][0]++,visible)&&(__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['29'][1]++,this.fitsInViewport())){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['28'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['101']++;this.center();}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['28'][1]++;}}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['26'][1]++;}__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['102']++;this.sizeMask();__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['103']++;if(YAHOO.env.ua.ie===6){__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['30'][0]++;__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['104']++;this.sizeUnderlay();}else{__cov_VZtvKIyl3Y2aMPs4ZJhfxw.b['30'][1]++;}}});__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['105']++;ORCHESTRAL.widget.Lightbox=Lightbox;}());__cov_VZtvKIyl3Y2aMPs4ZJhfxw.s['106']++;YAHOO.register('orchestral-lightbox',ORCHESTRAL.widget.Lightbox,{version:'7.9',build:'0'});},'7.9.0',{'requires':['yui2-yahoo','yui2-orchestral','yui2-container']});
