YUI.add('yui2-connectioncore', function(Y) { Y.use('yui2-connection'); }, '3.8.0' ,{"requires": ["yui2-yahoo", "yui2-event"]});
YUI.add('yui2-connection', function(Y) {
    var YAHOO    = Y.YUI2;
    /*!
Copyright (c) 2010, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.8.2r1
*/
YAHOO.util.Connect={_msxml_progid:["Microsoft.XMLHTTP","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP"],_http_headers:{},_has_http_headers:false,_use_default_post_header:true,_default_post_header:"application/x-www-form-urlencoded; charset=UTF-8",_default_form_header:"application/x-www-form-urlencoded",_use_default_xhr_header:true,_default_xhr_header:"XMLHttpRequest",_has_default_headers:true,_default_headers:{},_poll:{},_timeOut:{},_polling_interval:50,_transaction_id:0,startEvent:new YAHOO.util.CustomEvent("start"),completeEvent:new YAHOO.util.CustomEvent("complete"),successEvent:new YAHOO.util.CustomEvent("success"),failureEvent:new YAHOO.util.CustomEvent("failure"),abortEvent:new YAHOO.util.CustomEvent("abort"),_customEvents:{onStart:["startEvent","start"],onComplete:["completeEvent","complete"],onSuccess:["successEvent","success"],onFailure:["failureEvent","failure"],onUpload:["uploadEvent","upload"],onAbort:["abortEvent","abort"]},setProgId:function(a){this._msxml_progid.unshift(a);},setDefaultPostHeader:function(a){if(typeof a=="string"){this._default_post_header=a;}else{if(typeof a=="boolean"){this._use_default_post_header=a;}}},setDefaultXhrHeader:function(a){if(typeof a=="string"){this._default_xhr_header=a;}else{this._use_default_xhr_header=a;}},setPollingInterval:function(a){if(typeof a=="number"&&isFinite(a)){this._polling_interval=a;}},createXhrObject:function(g){var d,a,b;try{a=new XMLHttpRequest();d={conn:a,tId:g,xhr:true};}catch(c){for(b=0;b<this._msxml_progid.length;++b){try{a=new ActiveXObject(this._msxml_progid[b]);d={conn:a,tId:g,xhr:true};break;}catch(f){}}}finally{return d;}},getConnectionObject:function(a){var c,d=this._transaction_id;try{if(!a){c=this.createXhrObject(d);}else{c={tId:d};if(a==="xdr"){c.conn=this._transport;c.xdr=true;}else{if(a==="upload"){c.upload=true;}}}if(c){this._transaction_id++;}}catch(b){}return c;},asyncRequest:function(g,d,f,a){var e,c,b=(f&&f.argument)?f.argument:null;if(this._isFileUpload){c="upload";}else{if(f.xdr){c="xdr";}}e=this.getConnectionObject(c);if(!e){return null;}else{if(f&&f.customevents){this.initCustomEvents(e,f);}if(this._isFormSubmit){if(this._isFileUpload){this.uploadFile(e,f,d,a);return e;}if(g.toUpperCase()=="GET"){if(this._sFormData.length!==0){d+=((d.indexOf("?")==-1)?"?":"&")+this._sFormData;}}else{if(g.toUpperCase()=="POST"){a=a?this._sFormData+"&"+a:this._sFormData;}}}if(g.toUpperCase()=="GET"&&(f&&f.cache===false)){d+=((d.indexOf("?")==-1)?"?":"&")+"rnd="+new Date().valueOf().toString();}if(this._use_default_xhr_header){if(!this._default_headers["X-Requested-With"]){this.initHeader("X-Requested-With",this._default_xhr_header,true);}}if((g.toUpperCase()==="POST"&&this._use_default_post_header)&&this._isFormSubmit===false){this.initHeader("Content-Type",this._default_post_header);}if(e.xdr){this.xdr(e,g,d,f,a);return e;}e.conn.open(g,d,true);if(this._has_default_headers||this._has_http_headers){this.setHeader(e);}this.handleReadyState(e,f);e.conn.send(a||"");if(this._isFormSubmit===true){this.resetFormState();}this.startEvent.fire(e,b);if(e.startEvent){e.startEvent.fire(e,b);}return e;}},initCustomEvents:function(a,c){var b;for(b in c.customevents){if(this._customEvents[b][0]){a[this._customEvents[b][0]]=new YAHOO.util.CustomEvent(this._customEvents[b][1],(c.scope)?c.scope:null);a[this._customEvents[b][0]].subscribe(c.customevents[b]);}}},handleReadyState:function(c,d){var b=this,a=(d&&d.argument)?d.argument:null;if(d&&d.timeout){this._timeOut[c.tId]=window.setTimeout(function(){b.abort(c,d,true);},d.timeout);}this._poll[c.tId]=window.setInterval(function(){if(c.conn&&c.conn.readyState===4){window.clearInterval(b._poll[c.tId]);delete b._poll[c.tId];if(d&&d.timeout){window.clearTimeout(b._timeOut[c.tId]);delete b._timeOut[c.tId];}b.completeEvent.fire(c,a);if(c.completeEvent){c.completeEvent.fire(c,a);}b.handleTransactionResponse(c,d);}},this._polling_interval);},handleTransactionResponse:function(b,j,d){var f,a,h=(j&&j.argument)?j.argument:null,c=(b.r&&b.r.statusText==="xdr:success")?true:false,i=(b.r&&b.r.statusText==="xdr:failure")?true:false,k=d;try{if((b.conn.status!==undefined&&b.conn.status!==0)||c){f=b.conn.status;}else{if(i&&!k){f=0;}else{f=13030;}}}catch(g){f=13030;}if((f>=200&&f<300)||f===1223||c){a=b.xdr?b.r:this.createResponseObject(b,h);if(j&&j.success){if(!j.scope){j.success(a);}else{j.success.apply(j.scope,[a]);}}this.successEvent.fire(a);if(b.successEvent){b.successEvent.fire(a);}}else{switch(f){case 12002:case 12029:case 12030:case 12031:case 12152:case 13030:a=this.createExceptionObject(b.tId,h,(d?d:false));if(j&&j.failure){if(!j.scope){j.failure(a);}else{j.failure.apply(j.scope,[a]);}}break;default:a=(b.xdr)?b.response:this.createResponseObject(b,h);if(j&&j.failure){if(!j.scope){j.failure(a);}else{j.failure.apply(j.scope,[a]);}}}this.failureEvent.fire(a);if(b.failureEvent){b.failureEvent.fire(a);}}this.releaseObject(b);a=null;},createResponseObject:function(a,h){var d={},k={},f,c,g,b;try{c=a.conn.getAllResponseHeaders();g=c.split("\n");for(f=0;f<g.length;f++){b=g[f].indexOf(":");if(b!=-1){k[g[f].substring(0,b)]=YAHOO.lang.trim(g[f].substring(b+2));}}}catch(j){}d.tId=a.tId;d.status=(a.conn.status==1223)?204:a.conn.status;d.statusText=(a.conn.status==1223)?"No Content":a.conn.statusText;d.getResponseHeader=k;d.getAllResponseHeaders=c;d.responseText=a.conn.responseText;d.responseXML=a.conn.responseXML;if(h){d.argument=h;}return d;},createExceptionObject:function(h,d,a){var f=0,g="communication failure",c=-1,b="transaction aborted",e={};e.tId=h;if(a){e.status=c;e.statusText=b;}else{e.status=f;e.statusText=g;}if(d){e.argument=d;}return e;},initHeader:function(a,d,c){var b=(c)?this._default_headers:this._http_headers;b[a]=d;if(c){this._has_default_headers=true;}else{this._has_http_headers=true;}},setHeader:function(a){var b;if(this._has_default_headers){for(b in this._default_headers){if(YAHOO.lang.hasOwnProperty(this._default_headers,b)){a.conn.setRequestHeader(b,this._default_headers[b]);}}}if(this._has_http_headers){for(b in this._http_headers){if(YAHOO.lang.hasOwnProperty(this._http_headers,b)){a.conn.setRequestHeader(b,this._http_headers[b]);}}this._http_headers={};this._has_http_headers=false;}},resetDefaultHeaders:function(){this._default_headers={};this._has_default_headers=false;},abort:function(e,g,a){var d,b=(g&&g.argument)?g.argument:null;e=e||{};if(e.conn){if(e.xhr){if(this.isCallInProgress(e)){e.conn.abort();window.clearInterval(this._poll[e.tId]);delete this._poll[e.tId];if(a){window.clearTimeout(this._timeOut[e.tId]);delete this._timeOut[e.tId];}d=true;}}else{if(e.xdr){e.conn.abort(e.tId);d=true;}}}else{if(e.upload){var c="yuiIO"+e.tId;var f=document.getElementById(c);if(f){YAHOO.util.Event.removeListener(f,"load");document.body.removeChild(f);if(a){window.clearTimeout(this._timeOut[e.tId]);delete this._timeOut[e.tId];}d=true;}}else{d=false;}}if(d===true){this.abortEvent.fire(e,b);if(e.abortEvent){e.abortEvent.fire(e,b);}this.handleTransactionResponse(e,g,true);}return d;},isCallInProgress:function(a){a=a||{};if(a.xhr&&a.conn){return a.conn.readyState!==4&&a.conn.readyState!==0;}else{if(a.xdr&&a.conn){return a.conn.isCallInProgress(a.tId);}else{if(a.upload===true){return document.getElementById("yuiIO"+a.tId)?true:false;}else{return false;}}}},releaseObject:function(a){if(a&&a.conn){a.conn=null;a=null;}}};(function(){var g=YAHOO.util.Connect,h={};function d(i){var j='<object id="YUIConnectionSwf" type="application/x-shockwave-flash" data="'+i+'" width="0" height="0"><param name="movie" value="'+i+'"><param name="allowScriptAccess" value="always"></object>',k=document.createElement("div");document.body.appendChild(k);k.innerHTML=j;}function b(l,i,j,n,k){h[parseInt(l.tId)]={o:l,c:n};if(k){n.method=i;n.data=k;}l.conn.send(j,n,l.tId);}function e(i){d(i);g._transport=document.getElementById("YUIConnectionSwf");}function c(){g.xdrReadyEvent.fire();}function a(j,i){if(j){g.startEvent.fire(j,i.argument);if(j.startEvent){j.startEvent.fire(j,i.argument);}}}function f(j){var k=h[j.tId].o,i=h[j.tId].c;if(j.statusText==="xdr:start"){a(k,i);return;}j.responseText=decodeURI(j.responseText);k.r=j;if(i.argument){k.r.argument=i.argument;}this.handleTransactionResponse(k,i,j.statusText==="xdr:abort"?true:false);delete h[j.tId];}g.xdr=b;g.swf=d;g.transport=e;g.xdrReadyEvent=new YAHOO.util.CustomEvent("xdrReady");g.xdrReady=c;g.handleXdrResponse=f;})();(function(){var d=YAHOO.util.Connect,f=YAHOO.util.Event;d._isFormSubmit=false;d._isFileUpload=false;d._formNode=null;d._sFormData=null;d._submitElementValue=null;d.uploadEvent=new YAHOO.util.CustomEvent("upload"),d._hasSubmitListener=function(){if(f){f.addListener(document,"click",function(j){var i=f.getTarget(j),h=i.nodeName.toLowerCase();if((h==="input"||h==="button")&&(i.type&&i.type.toLowerCase()=="submit")){d._submitElementValue=encodeURIComponent(i.name)+"="+encodeURIComponent(i.value);}});return true;}return false;}();function g(v,q,l){var u,k,t,r,y,s=false,o=[],x=0,n,p,m,w,h;this.resetFormState();if(typeof v=="string"){u=(document.getElementById(v)||document.forms[v]);}else{if(typeof v=="object"){u=v;}else{return;}}if(q){this.createFrame(l?l:null);this._isFormSubmit=true;this._isFileUpload=true;this._formNode=u;return;}for(n=0,p=u.elements.length;n<p;++n){k=u.elements[n];y=k.disabled;t=k.name;if(!y&&t){t=encodeURIComponent(t)+"=";r=encodeURIComponent(k.value);switch(k.type){case"select-one":if(k.selectedIndex>-1){h=k.options[k.selectedIndex];o[x++]=t+encodeURIComponent((h.attributes.value&&h.attributes.value.specified)?h.value:h.text);}break;case"select-multiple":if(k.selectedIndex>-1){for(m=k.selectedIndex,w=k.options.length;m<w;++m){h=k.options[m];if(h.selected){o[x++]=t+encodeURIComponent((h.attributes.value&&h.attributes.value.specified)?h.value:h.text);}}}break;case"radio":case"checkbox":if(k.checked){o[x++]=t+r;}break;case"file":case undefined:case"reset":case"button":break;case"submit":if(s===false){if(this._hasSubmitListener&&this._submitElementValue){o[x++]=this._submitElementValue;}s=true;}break;default:o[x++]=t+r;}}}this._isFormSubmit=true;this._sFormData=o.join("&");this.initHeader("Content-Type",this._default_form_header);return this._sFormData;}function c(){this._isFormSubmit=false;this._isFileUpload=false;this._formNode=null;this._sFormData="";}function b(h){var j="yuiIO"+this._transaction_id,i=(YAHOO.env.ua.ie&&document.documentMode)?document.documentMode<9:YAHOO.env.ua.ie,k;if(i){k=document.createElement('<iframe id="'+j+'" name="'+j+'" />');if(typeof h=="boolean"){k.src="javascript:false";}}else{k=document.createElement("iframe");k.id=j;k.name=j;}k.style.position="absolute";k.style.top="-1000px";k.style.left="-1000px";document.body.appendChild(k);}function e(h){var l=[],j=h.split("&"),k,m;for(k=0;k<j.length;k++){m=j[k].indexOf("=");if(m!=-1){l[k]=document.createElement("input");l[k].type="hidden";l[k].name=decodeURIComponent(j[k].substring(0,m));l[k].value=decodeURIComponent(j[k].substring(m+1));this._formNode.appendChild(l[k]);}}return l;}function a(l,x,m,k){var s="yuiIO"+l.tId,t="multipart/form-data",v=document.getElementById(s),n=(document.documentMode&&document.documentMode===8)?true:false,y=this,u=(x&&x.argument)?x.argument:null,w,r,j,q,h,p;h={action:this._formNode.getAttribute("action"),method:this._formNode.getAttribute("method"),target:this._formNode.getAttribute("target")};this._formNode.setAttribute("action",m);this._formNode.setAttribute("method","POST");this._formNode.setAttribute("target",s);if(YAHOO.env.ua.ie&&!n){this._formNode.setAttribute("encoding",t);}else{this._formNode.setAttribute("enctype",t);}if(k){w=this.appendPostData(k);}this._formNode.submit();this.startEvent.fire(l,u);if(l.startEvent){l.startEvent.fire(l,u);}if(x&&x.timeout){this._timeOut[l.tId]=window.setTimeout(function(){y.abort(l,x,true);},x.timeout);}if(w&&w.length>0){for(r=0;r<w.length;r++){this._formNode.removeChild(w[r]);}}for(j in h){if(YAHOO.lang.hasOwnProperty(h,j)){if(h[j]){this._formNode.setAttribute(j,h[j]);}else{this._formNode.removeAttribute(j);}}}this.resetFormState();p=function(){if(x&&x.timeout){window.clearTimeout(y._timeOut[l.tId]);delete y._timeOut[l.tId];}y.completeEvent.fire(l,u);if(l.completeEvent){l.completeEvent.fire(l,u);}q={tId:l.tId,argument:x.argument};try{q.responseText=v.contentWindow.document.body?v.contentWindow.document.body.innerHTML:v.contentWindow.document.documentElement.textContent;q.responseXML=v.contentWindow.document.XMLDocument?v.contentWindow.document.XMLDocument:v.contentWindow.document;}catch(i){}if(x&&x.upload){if(!x.scope){x.upload(q);}else{x.upload.apply(x.scope,[q]);}}y.uploadEvent.fire(q);if(l.uploadEvent){l.uploadEvent.fire(q);}f.removeListener(v,"load",p);setTimeout(function(){document.body.removeChild(v);y.releaseObject(l);},100);};f.addListener(v,"load",p);}d.setForm=g;d.resetFormState=c;d.createFrame=b;d.appendPostData=e;d.uploadFile=a;})();YAHOO.register("connection",YAHOO.util.Connect,{version:"2.8.2r1",build:"7"});
}, '2.8.2' ,{"requires": ["yui2-yahoo", "yui2-event"], "supersedes": ["yui2-connectioncore"]});
